{{TOC}}

<head>
  <style>
    h1 
    {
      color: red;
    }
    h2 
    {
      color: orange;
    }
    h3, h4, h5, h6 
    {
      color: red;
    }
    a 
    {
      text-decoration: none;
    }
  </style>
</head>

# **–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ void. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±–ª–∞—Å—Ç–µ–π –ø–∞–º—è—Ç–∏.** [üîº](#top)

## **–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ void.** [üîº](#top)

–¢–∏–ø —É–∫–∞–∑–∞—Ç–µ–ª—å `void` (–æ–±–æ–±—â—ë–Ω–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–º —Ç–∏–ø–µ –æ–±—ä–µ–∫—Ç–∞:
- C—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ø–∞–º—è—Ç–∏, –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–∞–º –æ–±—ä–µ–∫—Ç–æ–≤:

```C
double d = 5.0;
char c = 'c';

void *pd = &d;
void *pc = &c;
```
- –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –æ–±—ä–µ–∫—Ç –ª—é–±–æ–≥–æ —Ç–∏–ø–∞.
```C
ptrdiff_t cmp_int(const void *l, const void *r)
{	
	const int *pl = l;
	const int *pr = r;

	return *pl - *pr;
}

...

qsort(arr, sizeof(arr) / sizeof(arr[0]),
sizeof(int), cmp_int);
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

–í —è–∑—ã–∫–µ –°–∏ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ `void*` —É–∫–∞–∑–∞—Ç–µ–ª—é –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞ (–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç) –±–µ–∑ —è–≤–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è:

```C
double d = 5.0;
double *pd = &d;
void *pd = pd;

pd = pv;
```
 `void*` –Ω–µ–ª—å–∑—è —Ä–∞–∑—ã–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å:
 
```C
double d = 5.0;
void *pv = &d;

// ERR: fpritnf(stdout, "%lf", *pv);
fputc(NEWLINE, stdout);
```
 –ö `void*` –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∞–¥—Ä–µ—Å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞:
 
```C
 double d = 5.0;
 void *pv = &d;
 
 // ERR: pv++;
```


## **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±–ª–∞—Å—Ç–µ–π –ø–∞–º—è—Ç–∏.** [üîº](#top)

`memcmp`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

–õ–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–µ `n` –±–∞–π—Ç –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç `s1` –∏ `s2`.
- `rc < 0` ‚Äî –ø–µ—Ä–≤—ã–π –æ—Ç–ª–∏—á–∞—é—â–∏–π—Å—è –±–∞–π—Ç –≤ `s1` –º–µ–Ω—å—à–µ, —á–µ–º –≤ `s2`;
- `rc == 0` ‚Äî –ø–µ—Ä–≤—ã–µ `n` –±–∞–π—Ç –≤ `s1` –∏ `s2` –∏–¥–µ–Ω—Ç–∏—á–Ω—ã;
- `rc > 0` ‚Äî –ø–µ—Ä–≤—ã–π –æ—Ç–ª–∏—á–∞—é—â–∏–π—Å—è –±–∞–π—Ç –≤ `s1` –±–æ–ª—å—à–µ, —á–µ–º –≤ `s2`.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```C
#include <string.h>

int memcmp(const void *s1, const void *s2, 
size_t n);
```

**–ü—Ä–∏–º–µ—Ä:**
```C
int arr1[10] = { 1, 2, 3, 4, 5};
int arr2[10] = { 1, 2, 3, 4, 6};

int rc = memcmp(arr1, arr2, 5);
```

`memmove`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

- –ö–æ–ø–∏—Ä—É–µ—Ç `n` —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –æ–±—ä–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç  `s2` –≤ –æ–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `s1`;
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—É—Ç—ë–º —Å–æ–∑–¥–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏–∑ `n` —Å–∏–º–≤–æ–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `s2`;
- –ú–∞—Å—Å–∏–≤ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç `s1` –∏ `s2`;
- –î–∞–ª–µ–µ –∏–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –¥–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `s1`.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**
```C
#include <string.h>

void *memmove(void *s1, const void *s2,
size_t n);
```

**–ü—Ä–∏–º–µ—Ä:**
```C
char str1[10] = "foo";
char str2[10] = "f";

memmove(str1 + strlen(str1), str2,
strlen(str2));
```

`memcpy`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

–ö–æ–ø–∏—Ä—É–µ—Ç `n` —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –æ–±—ä–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `s2`, –≤ –æ–±—ä–µ–∫—Ç –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `s1`. –û–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–∫—Ä—ã—Ç—ã ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```C
#include <string.h>

void *memcpy(void *restrict s1,
const void *restrict s2, size_t n);
```

**–ü—Ä–∏–º–µ—Ä:**
```C
char str1[5] = "foo";
char str2[5];

memcpy(str2, str1, strlen(str1) + 1);
```

`memset`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

–ö–æ–ø–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `c` (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–µ –≤ –±–µ–∑–∑–Ω–∞–∫–æ–≤—ã–π —Å–∏–º–≤–æ–ª) –≤ –∫–∞–∂–¥—ã–π –∏–∑ –ø–µ—Ä–≤—ã—Ö `n` —Å–∏–º–≤–æ–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `s`.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```C
#include <string.h>

void *memset(void *s, int c, size_t n);
```

**–ü—Ä–∏–º–µ—Ä:**
```C
char str[10];

memset(str, '*', sizeof(str) - 1);
str[sizeof(str) - 1] = NULL_CHAR;
```

<div style="page-break-after: always;"></div>

# **–§—É–Ω–∫—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.** [üîº](#top)

**–û–±—â–∏–µ ¬´—Å–≤–æ–π—Å—Ç–≤–∞¬ª —Ñ—É–Ω–∫—Ü–∏–π `malloc`, `calloc`, `realloc`.**

- –£–∫–∞–∑–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∞ –ª–∏—à—å –≤—ã–¥–µ–ª—è—é—Ç –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏.  –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∞–¥—Ä–µ—Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤ –ø–∞–º—è—Ç–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞, —Ç. –µ. —É–∫–∞–∑–∞—Ç–µ–ª—å.
- –ù–∏ –æ–¥–Ω–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –∑–Ω–∞–µ—Ç —Ç–∏–ø —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º –±–ª–æ–∫–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `void`.
- –ë–ª–æ–∫ –ø–∞–º—è—Ç–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –≤—ã–¥–µ–ª–∏—Ç—å ‚Äî `NULL`.
- –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ –Ω–∞–¥–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ `free`.

`malloc`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

–í—ã–¥–µ–ª—è–µ—Ç –º–µ—Å—Ç–æ –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ —Ä–∞–∑–º–µ—Ä–æ–º `size` –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```C
#include <stdlib.h>

void *malloc(size_t size);
```

`calloc`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

–í—ã–¥–µ–ª—è–µ—Ç –º–µ—Å—Ç–æ –¥–ª—è –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–º `nmemb`, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä `size`, c –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω—É–ª–µ–≤—ã–º–∏ –±–∏—Ç–∞–º–∏.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```C
#include <stdlib.h>

void *calloc(size_t nmemb, size_t size);
```

`free`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

–î–µ–∞–ª–ª–æ—Ü–∏—Ä—É–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç `ptr`, –¥–µ–ª–∞—è –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è.

- `ptr == NULL` ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.
- `ptr` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –º–∏–Ω—É—è `calloc`, `malloc`, `realloc` ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ (–∫–∞–∫ –∏ –≤ `realloc`).

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```C
#include <stdlib.h>

void free(void *ptr);
```

`realloc`

**–û–ø–∏—Å–∞–Ω–∏–µ:**

–î–µ–∞–ª–ª–æ—Ü–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `ptr` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ä–∞–∑–º–µ—Ä–æ–º `size`

- `ptr == NULL` –∏ `size != 0` ‚Äî –∞–Ω–∞–ª–æ–≥ `malloc`;
- `ptr != NULL` –∏ `size == 0`  ‚Äî –∞–Ω–∞–ª–æ–≥ `free`;
- `ptr != NULL` –∏ `size != 0` ‚Äî `realloc` –ø–µ—Ä–µ–≤—ã–¥–µ–ª—è–µ—Ç —Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –±–ª–æ–∫ –ø–∞–º—è—Ç–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç `ptr`, –¥–µ–ª–∞—è –µ–≥–æ —Ä–∞–∑–º–µ—Ä —Ä–∞–≤–Ω—ã–º `size` –±–∞–π—Ç.  –í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ –∞–ª–≥–æ—Ä–∏—Ç–º —Ç–∞–∫–æ–≤:
- –≤—ã–¥–µ–ª–∏—Ç—å –Ω–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏;
- —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—Ç–∞—Ä–æ–π –≤ –Ω–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å;
- –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Å—Ç–∞—Ä—É—é –æ–±–ª–∞—Å—Ç—å.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```C
#include <stdlib.h>

void *realloc(void *ptr, size_t size);
```

**–¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ –≤—ã–∑–æ–≤–∞ `realloc`.**

–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ –≤—ã–¥–µ–ª–∏—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å, `realloc` –≤–µ—Ä–Ω—É–ª–∞ `NULL`, –æ–¥–Ω–∞–∫–æ `ptr` –Ω–µ –±—É–¥–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω. –í–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

```C
// ERR: pa = realloc(pa, 2 * n);
void *temp = realloc(pa, 2 * n);

if (temp != NULL)
{
	pa = temp;
}
else
{
	// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ—á–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
}
```

**–§—É–Ω–∫—Ü–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ —è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞: –∑–∞ –∏ –ø—Ä–æ—Ç–∏–≤.**

```C
int *arr = (int *)malloc(n * sizeof(int));
```

| –ü–ª—é—Å—ã                                                       | –ú–∏–Ω—É—Å—ã                                            |
|----------------------|---------------------------------------------|
| –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Å –ø–æ–º–æ—â—å—é C++ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞.                        | –ù–∞—á–∏–Ω–∞—è —Å ANSI C –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –Ω–µ –Ω—É–∂–Ω–æ.                       |
| –£ —Ñ—É–Ω–∫—Ü–∏–∏ `malloc` –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ANSI C –±—ã–ª –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ç–æ—Ç–∏–ø:<br> `char *malloc(size_t size);` | –ú–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –∑–∞–±—ã–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å `<stdlib.h>`.      |
| –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è ¬´–ø—Ä–æ–≤–µ—Ä–∫–∞¬ª –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.         | –í —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è –ø—Ä–∏–¥—ë—Ç—Å—è –º–µ–Ω—è—Ç—å —Ç–∏–ø –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏. |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è 0 –±–∞–π—Ç –ø–∞–º—è—Ç–∏.**

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π `malloc`, `calloc` –∏–ª–∏ `realloc` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –Ω—É–ª–µ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –±–ª–æ–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- –≤–µ—Ä–Ω–µ—Ç—Å—è `NULL`;
- –≤–µ—Ä–Ω–µ—Ç—Å—è ¬´–Ω–æ—Ä–º–∞–ª—å–Ω—ã–π¬ª —É–∫–∞–∑–∞—Ç–µ–ª—å, –Ω–æ –µ–≥–æ –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è.

–ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–µ–Ω—É–ª–µ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –±–ª–æ–∫–∞.

<div style="page-break-after: always;"></div>

# **–í—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –ø–æ–¥ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç—å—é.**[üîº](#top)

**–°–ø–æ—Å–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏.**

- –ö–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
```C
int *create_array(FILE *f, size_t *n);

...

int *arr;
size_t n;
arr = create_array(f, &n);
```
- –ö–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏:
```C
int create_array(FILE *f, int **arr, size_t *n);

...

int *arr, rc;
size_t n;
rc = create_array(f, &arr, &n);
```

**–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç—å—é.**

- –ù–µ–≤–µ—Ä–Ω—ã–π —Ä–∞—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏:
```c
char *str;
str = malloc(5);
strcpy(str, "Hello");
```
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:
```c
int *arr;
arr = malloc(10000 * sizeof(int));
arr[0] = 5;
```
- –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏:
```c
int *arr;
arr = malloc(5);
...
// ERR: –ù–µ –æ—Å–≤–æ–±–æ–¥–∏–ª–∏
```

**–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:**
- –î–∏–∫–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å:
```c
int *ptr;
*ptr = 5;
```
- –í–∏—Å—è—á–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å:
```c
int *ptr;
ptr = malloc(sizeof(int));
free(ptr);
*ptr = 5;
```
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–µ–π –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:
```c
int *ptr;
ptr = malloc(5 * sizeof(int));
ptr++;
free(ptr);
```
- –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:
```c
int *ptr;
ptr = malloc(5 * sizeof(int));
free(ptr);
free(ptr);
```
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –Ω–µ–≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –∏–ª–∏ –Ω–µ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏:
```c
int x;
free(&x);
```
- –í—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—Å–∏–≤–∞:
```c
int *arr;
arr = malloc(5 * sizeof(int));
arr[5] = 42;
```
–ò –ø—Ä–æ—á–µ–µ...

**–ü–æ–¥—Ö–æ–¥—ã –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏.**

1. –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–¥ –≤ —Å–ª—É—á–∞–µ –Ω–µ—É–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä,`NULL` –≤ `malloc`, `calloc`, `realloc`);
2. –û—à–∏–±–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ ‚Äî –Ω–µ—É–¥–∞—á–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, —Ä–∞–∑—ã–º–µ–Ω–æ–≤—ã–≤–∞–Ω–∏–µ `NULL` –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É.
3. –ê–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—ë—Ä—Ç–∫–∏ `xmalloc`, –∫–æ—Ç–æ—Ä–∞—è –≤ —Å–ª—É—á–∞–µ –Ω–µ—É–¥–∞—á–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `abort()` –∏–ª–∏ `exit()`;
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Äî –ø–æ–ø—ã—Ç–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏–ª–∏ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏. (–Ω–∞–ø—Ä–∏–º–µ—Ä `xmalloc` –∏–∑ `git`).

- –ö–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
```c
int *create_array(FILE *f, size_t *n)
{
    int *arr = NULL;
    int rc = 0;

    if (f == NULL || n == NULL)
    {
        rc = 1;
    }
    else
    {
        *n = 0;
        int tmp;

        while (fscanf(f, "%d", &tmp) == 1)
        {
            (*n)++;
        }

        rewind(f);

        if ((arr = malloc((*n) * sizeof(int))) == NULL)
        {
            rc = 1;
        }
        else
        {
            for (size_t i = 0; i < *n && rc == 0; i++)
            {
                if (fscanf(f, "%d", &arr[i]) != 1)
                {
                    free(arr);
                    arr = NULL;
                    rc = 1;
                }
            }
        }
    }

    return (rc == 0 ? arr : NULL);
}
```

- –ö–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏:
```c
int create_array(FILE *f, int **arr, size_t *n)
{
    int rc = 0;

    if (f == NULL || arr == NULL || n == NULL)
    {
        rc = 1;
    }
    else
    {
        *n = 0;
        int tmp;

        while (fscanf(f, "%d", &tmp) == 1)
        {
            (*n)++;
        }

        rewind(f);

        if ((*arr = malloc((*n) * sizeof(int))) == NULL)
        {
            rc = 1;
        }
        else
        {
            for (size_t i = 0; i < *n && rc == 0; i++)
            {
                if (fscanf(f, "%d", &((*arr)[i])) != 1)
                {
                    free(*arr);
                    *arr = NULL;
                    rc = 1;
                }
            }
        }
    }

    return rc;
}
```

<div style="page-break-after: always;"></div>

#  **–£–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏. –§—É–Ω–∫—Ü–∏—è `qsort`.**[üîº](#top)

–£–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

–° –ø–æ–º–æ—â—å—é —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è:
- –§—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –∫–æ–¥–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–¥–Ω–æ–≥–æ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥—Ä—É–≥–æ–≥–æ –∫–æ–¥–∞;
- –¢–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤;
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ.

–û–±—ä—è–≤–ª–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é:
```c
double trapezium(double a, double b, int n, 
double(*func)(double));
```
–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ —Ñ—É–Ω–∫—Ü–∏–∏ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è):
```c
double result = trapezium(0, 3.14, 25, &sin);
```
–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é:
```c
y = (*func) (x); // ~ y = func(x);
```

**`qsort`**

**–û–ø–∏—Å–∞–Ω–∏–µ:**

- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ `nmemb`, –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç `base`. –†–∞–∑–º–µ—Ä —É –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ ‚Äî `size`;
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–∞—Å—Å–∏–≤–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—é —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è `compar`;
- `compar` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, —É–∫–∞–∑—ã–≤–∞—é—â–∏—Ö –Ω–∞ —Å—Ä–∞–≤–Ω–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã;
- `compar` –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —á–∏—Å–ª–æ **>0**, **=0**, **<0**, –≥–¥–µ –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –º–µ–Ω—å—à–µ, —Ä–∞–≤–µ–Ω, –±–æ–ª—å—à–µ –≤—Ç–æ—Ä–æ–≥–æ (-–æ–º—É).

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**

```c
#include <stdlib.h>

void qsort(void *base, size_t nmemb, size_t size,
int (*compar)(const void *, const void *));
```

**–ü—Ä–∏–º–µ—Ä:**

```C
ptrdiff_t cmp_int(const void *l, const void *r)
{	
	const int *pl = l;
	const int *pr = r;

	return *pl - *pr;
}

...

qsort(arr, sizeof(arr) / sizeof(arr[0]),
sizeof(int), cmp_int);
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é (c —É—á—ë—Ç–æ–º –∞–¥—Ä–µ—Å–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏).**

–ü–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ—è–≤–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é.
```c
int add(int a, int b);
...
int (*p1)(int, int) = add;
```

–û–ø–µ—Ä–∞—Ü–∏—è `&` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é, –Ω–æ –∏–∑ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã—à–µ —ç—Ç–æ –ª–∏—à–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—è.
```c
int (*p2)(int, int) = &add;
```

–û–ø–µ—Ä–∞—Ü–∏—è `*` –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏—é, –∞ –æ–Ω–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é.
```c
int (*p3)(int, int) = *add;
int (*p4)(int, int) = ****add;
```

–£–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å:
```c
if (p1 == add)
{
	...
}
```

–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∏–ø–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:
```c
int (*get_action(char ch))(int, int);
// typedef –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ –ø–æ–º–æ—â—å :)
typedef int (*ptr_action_t)(int, int);
ptr_action_t get_action(char ch);
```

**–£–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –∏ `*void`.**

–ü–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –∫ `*void` –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

POSIX —Ç—Ä–µ–±—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–∞–∫–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏.

<div style="page-break-after: always;"></div>

# **–£—Ç–∏–ª–∏—Ç–∞ Make. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ. –ü—Ä–æ—Å—Ç–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—Ä–∫–∏.**[üîº](#top)

## **–£—Ç–∏–ª–∏—Ç–∞ Make. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ.** [üîº](#top)

`make` ‚Äî —É—Ç–∏–ª–∏—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—â–∞—è –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã –≤
–¥—Ä—É–≥—É—é. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
`*.tex` ‚Üí `*.pdf`.

–î–ª—è —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã `make` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
1. –°—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî make-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–Ω—É—Ç—Ä–∏
–ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ
–ø–æ–ª—É—á–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã.
2. –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–∞, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ —É —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ —Ñ–∞–π–ª–∞.

**–†–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã make**.

- `GNU Make` (—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –≤ –∫—É—Ä—Å–µ).
- `BSD Make`.
- `Microsoft Make` (`nmake`).

–£ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π –æ–¥–Ω–∞ –∏–¥–µ–æ–ª–æ–≥–∏—è –∏ —Ä–∞–∑–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.

## **–ü—Ä–æ—Å—Ç–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—Ä–∫–∏.** [üîº](#top)

–§–∞–π–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è makefile / Makefile.

–í–Ω—É—Ç—Ä–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

1. –¶–µ–ª—å ‚Äî –∏–º—è —Ñ–∞–π–ª–∞, –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª–∞. –ú–æ–∂–µ—Ç
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –∏–º—è –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä–æ–µ —É—Ç–∏–ª–∏—Ç–∞ make –≤—ã–ø–æ–ª–Ω–∏—Ç –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
—ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞.
2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω —Ñ–∞–π–ª,
—è–≤–ª—è—é—â–∏–π—Å—è —Ü–µ–ª—å—é –ø—Ä–∞–≤–∏–ª–∞.
3. –ö–æ–º–∞–Ω–¥—ã ‚Äî shell-–∫–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏.

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∞–≤–∏–ª–∞:

```make
—Ü–µ–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å_1 ... –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å_N:
	–∫–æ–º–∞–Ω–¥–∞_1
	...
	–∫–æ–º–∞–Ω–¥–∞_M
```

–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–∞–±—É–ª—è—Ü–∏–∏.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥.**

- –ù–µ–Ω—É–ª–µ–≤–æ–π –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ –º–æ–∂–µ—Ç –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è.
- –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Å–≤–æ–µ–º `shell`.

**–ü—Ä–æ—Å—Ç–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—Ä–∫–∏ + –∞–ª–≥–æ—Ä–∏—Ç–º.**

```make
app.exe : file_1.o file_2.o main.o
	gcc -o app.exe file_1.o file_2.o main.o

test_app.exe : file_1.o file_2.o test_file.o
	gcc -o test_app.exe file_1.o file_2.o test_file.o

file_1.o : file_1.c file_1.h
	gcc -std=c99 -Wall -Werror -pedantic -c file_1.c

file_2.o : file_2.c file_2.h
	gcc -std=c99 -Wall -Werror -pedantic -c file_2.c

main.o : main.c file_1.h file_2.h
	gcc -std=c99 -Wall -Werror -pedantic -c main.c

test_file.o : test_file.c file_1.h file_2.h
	gcc -std=c99 -Wall -Werror -pedantic -c test_file.c

clean :
	rm *.o *.exe
```

–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è: –µ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç –±–µ–∑ –æ–±—ä–µ–∫—Ç–Ω—ã—Ö –∏ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤.

1. –ó–∞–ø—É—Å–∫–∞–µ–º —É—Ç–∏–ª–∏—Ç—É `make`.
2. –£—Ç–∏–ª–∏—Ç–∞ —á–∏—Ç–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ü–µ–Ω–∞—Ä–∏—è —Å–±–æ—Ä–∫–∏ –∏ –Ω–∞—Ö–æ–¥–∏—Ç —Ü–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ü–µ–ª—å,
—Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –ø–µ—Ä–≤—ã–º –ø—Ä–∞–≤–∏–ª–æ–º –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å–±–æ—Ä–∫–∏ (–≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ —ç—Ç–æ `app.exe`).
3. –£—Ç–∏–ª–∏—Ç–∞ —á–∏—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ –∏ –≤–∏–¥–∏—Ç, —á—Ç–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∞–π–ª–∞ `app.exe` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ `file_1.o`, `file_2.o`, `main.o`.
4. –¢–∞–∫ –∫–∞–∫ —Ñ–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, —É—Ç–∏–ª–∏—Ç–∞ `make` –±–µ—Ä—ë—Ç –∏–º—è —Ñ–∞–π–ª–∞ –∏ –∏—â–µ—Ç —Å–ø–æ—Å–æ–± –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è.
5. –ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª–æ –∏ –≤–∏–¥–∏—Ç, —á—Ç–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω—É–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.c` –∏ `.h`.
6. –≠—Ç–∏ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –∑–Ω–∞—á–∏—Ç, –æ–±—ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å.
7. –£—Ç–∏–ª–∏—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –∏ –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª.
8. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏.
9. –ö–æ–≥–¥–∞ –≤—Å–µ —Ñ–∞–π–ª—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞.

**–ö–ª—é—á–∏ —É—Ç–∏–ª–∏—Ç—ã `make`.**

- –£–∫–∞–∑–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è —Å–±–æ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, compile) ‚Äî –∫–ª—é—á `-f`.
- –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –∫–ª—é—á `-B`.
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –±–µ–∑ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –∫–ª—é—á `-n`.
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (–ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏) ‚Äî –∫–ª—é—á `-i`.

<div style="page-break-after: always;"></div> 

# **–£—Ç–∏–ª–∏—Ç–∞ `Make`. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —à–∞–±–ª–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞.**[üîº](#top)

## **–£—Ç–∏–ª–∏—Ç–∞ `Make`. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ.** [üîº](#top)

`make` ‚Äî —É—Ç–∏–ª–∏—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—â–∞—è –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã –≤
–¥—Ä—É–≥—É—é. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
`*.tex` ‚Üí `*.pdf`.

–î–ª—è —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã `make` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
1. –°—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî make-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–Ω—É—Ç—Ä–∏
–ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ
–ø–æ–ª—É—á–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã.
2. –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–∞, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ —É —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ —Ñ–∞–π–ª–∞.

**–†–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã `make`.**

- `GNU Make` (—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –≤ –∫—É—Ä—Å–µ).
- `BSD Make`.
- `Microsoft Make` (`nmake`).

–£ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π –æ–¥–Ω–∞ –∏–¥–µ–æ–ª–æ–≥–∏—è –∏ —Ä–∞–∑–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.

## **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —à–∞–±–ª–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞.** [üîº](#top)

–û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:
```make
VAR_NAME := value
```
–î–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:
```make
$(VAR_NAME)
```

–ü—Ä–∏–º–µ—Ä:
```make
CC := gcc
CFLAGS := -std=c99 -Wall -Werror -Wpedantic

OBJS := file_1.o file_2.o

app.exe : $(OBJS) main.o
	$(CC) -o app.exe $(OBJS) main.o
...
```

**–§–∏–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏.**

–ú–æ–≥—É—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è —Ü–µ–ª–∏, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ñ–∞–π–ª–∞–º–∏. –ò—Ö –Ω–∞–∑—ã–≤–∞—é—Ç —Ñ–∏–∫—Ç–∏–≤–Ω—ã–º–∏. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å
—É—Å—Ç–∞–Ω–æ–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –æ—á–∏—Å—Ç–∫–∞ –∏ –ø—Ä–æ—á–µ–µ.

–ß—Ç–æ–±—ã `make` –Ω–µ –ø—ã—Ç–∞–ª–∞—Å—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º–µ–Ω–∞ —Ç–∞–∫–∏—Ö –ø—Ä–∞–≤–∏–ª –∫–∞–∫ —Ñ–∞–π–ª—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–∞—Ç—Ä–∏–±—É—Ç `.PHONY` :
```make
.PHONY: clean
```

**–ù–µ—è–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.**

- –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ—è–≤–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª ‚Äî –∫–ª—é—á `-p`.
- –ó–∞–ø—Ä–µ—Ç –Ω–µ—è–≤–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª ‚Äî –∫–ª—é—á `-r`.

–í –ø—Ä–∏–º–µ—Ä–µ `main.o` —Å–æ–∑–¥–∞—Å—Ç—Å—è –Ω–µ—è–≤–Ω–æ –±–µ–∑ –ø—Ä–∞–≤–∏–ª–∞:
```make
app.exe: $(OBJS) main.o
	$(CC) -o greeting.exe $(OBJS) main.o
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.**

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –±—É–¥–µ—Ç
–≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∞–≤–∏–ª–∞.
–ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
- `$^` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- `$@` ‚Äî –∏–º—è —Ü–µ–ª–∏.
- `$<` ‚Äî –ø–µ—Ä–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

**–®–∞–±–ª–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞.**

`%` –∑–∞–¥–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —Ü–µ–ª–∏.

```makefile
%.—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ_—Ñ–∞–π–ª–æ–≤_—Ü–µ–ª–µ–π : 
%.—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ_—Ñ–∞–π–ª–æ–≤_–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
	–∫–æ–º–∞–Ω–¥–∞_1
	...
	–∫–æ–º–∞–Ω–¥–∞_M
```

–í –ø—Ä–∞–≤–∏–ª–∞—Ö –∑–∞–¥–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ –º–∞—Å–∫–µ:
```makefile
%.o: %.c *.h
	$(CC) $(CFLAGS) -c $<
```
<div style="page-break-after: always;"></div> 

# **–£—Ç–∏–ª–∏—Ç–∞ `Make`. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ. –£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.** [üîº](#top)

## **–£—Ç–∏–ª–∏—Ç–∞ `Make`. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ.** [üîº](#top)

`make` ‚Äî —É—Ç–∏–ª–∏—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—â–∞—è –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã –≤
–¥—Ä—É–≥—É—é. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
`*.tex` ‚Üí `*.pdf`.

–î–ª—è —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã `make` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
1. –°—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî `make`-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–Ω—É—Ç—Ä–∏
–ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ
–ø–æ–ª—É—á–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã.
2. –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–∞, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ —É —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ —Ñ–∞–π–ª–∞.

**–†–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã `make`.**

- `GNU Make` (—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –≤ –∫—É—Ä—Å–µ).
- `BSD Make`.
- `Microsoft Make` (`nmake`).

–£ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π –æ–¥–Ω–∞ –∏–¥–µ–æ–ª–æ–≥–∏—è –∏ —Ä–∞–∑–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.

## **–£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.** [üîº](#top)

–£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å–±–æ—Ä–∫–∏. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

```makefile
ifeq (—É—Å–ª–æ–≤–∏–µ1, —É—Å–ª–æ–≤–∏–µ2)
	# –∏—Å—Ç–∏–Ω–∞
else
	# –ª–æ–∂—å
```

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —Ü–µ–ª–∏. 
```makefile
CC := gcc
CFLAGS := -std=c99 -Wall -Werror -Wpedantic

OBJS := file_1.o file_2.o

debug : CFLAGS += -g3
debug : app.exe

release : CFLAGS += -DNDEBUG -g0
release : app.exe
```

–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```make
%.o: %.c %.h
	$(CC) -c $(CFLAGS) $< -o $@
```

–° –ø–æ–º–æ—â—å—é –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞:
```make
# C-—Ñ–∞–π–ª—ã
SRCS := ...

%.o: %.c
	$(CC) $(CFLAGS) -c $<

%.d: %.c
	$(CC) -M $< > $@

include $(SRCS:.c=.d)
```

–§—É–Ω–∫—Ü–∏–∏ –≤ `make`.

–í—ã–∑–æ–≤:
```make
$(function_name [arguments])
```

`patsubst`
```make
$(patsubst pattern, replacement, text)
cfiles := main.c hello.c bye.c

# –ü–æ–ª–Ω–æ—Å—Ç—å—é
objs := $(patsubst %.c, %.o, $(cfiles))

# –ö—Ä–∞—Ç–∫–æ
objs := $(cfiles:%.c=%.o)
```

<div style="page-break-after: always;"></div>

# **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ç—Ä–∏—Ü—ã. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –æ–¥–Ω–æ–º–µ—Ä–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Å—Ç—Ä–æ–∫–∏. –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤.** [üîº](#top)

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫:
$$n = 3$$
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤:
$$m = 4$$
–¢–∏–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Ç—Ä–∏—Ü—ã:
$$T$$

## **–ú–∞—Ç—Ä–∏—Ü–∞ –∫–∞–∫ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤.** [üîº](#top)

![](pics/–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-01-29 –≤ 06.08.42.png)

$$a[i][j] = a[k],$$ –≥–¥–µ:
$$k = i \cdot m + j$$

|                             +                              |                               -                                    
|**–ü–ª—é—Å—ã**|**–ú–∏–Ω—É—Å—ã**|
|    –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.            | –û—Ç–ª–∞–¥—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –Ω–µ –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–¥–∏—Ç—å –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å—Ç—Ä–æ–∫–∏. |
|    –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤.      | –ù—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å `i * m + j` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –¥–≤—É–º–µ—Ä–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞.     |

## **–ú–∞—Ç—Ä–∏—Ü–∞ –∫–∞–∫ –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.** [üîº](#top)

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-01-29%20–≤%2006.16.54.png)

**–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:**

**–í—Ö–æ–¥:**

`n`, `m`.

**–í—ã—Ö–æ–¥:**

`p` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã.

1. –í—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π (`p`);
2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏;
3. –í —Ü–∏–∫–ª–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã (`0 <= i < n`):
- –í—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ `i`-—É—é —Å—Ç—Ä–æ–∫—É –º–∞—Ç—Ä–∏—Ü—ã (`q`);
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏;
- `p[i]=q`.

**–ê–ª–≥–æ—Ä–∏—Ç–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:**

**–í—Ö–æ–¥:** 

–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã (`p`) –∏
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (`n`).

1. –í —Ü–∏–∫–ª–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã (`0 <= i < n`): –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å –∏–∑-–ø–æ–¥ `i`-–æ–π —Å—Ç—Ä–æ–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã.
2. –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å –∏–∑-–ø–æ–¥ –º–∞—Å—Å–∏–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π (`p`).

|                                         +                                         |                           -                           |
|**–ü–ª—é—Å—ã**|**–ú–∏–Ω—É—Å—ã**|
|           <br>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–º–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ –æ–±–º–µ–Ω —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.<br><br>            | <br>–°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.<br><br> |
| <br>–û—Ç–ª–∞–¥—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–¥–∏—Ç—å –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å—Ç—Ä–æ–∫–∏.<br><br> |   <br>–ü–∞–º—è—Ç—å –ø–æ–¥ –º–∞—Ç—Ä–∏—Ü—É ¬´–Ω–µ –ª–µ–∂–∏—Ç¬ª –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é.    |

## **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ (1).** [üîº](#top)

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-01-29%20–≤%2007.19.16.png)

**–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.**

**–í—Ö–æ–¥**: 

`n`, `m`.

**–í—ã—Ö–æ–¥**: 

–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã (`p`).

- –í—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Å—Ç—Ä–æ–∫–∏ (`p`);
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏;
- –í—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ –¥–∞–Ω–Ω—ã–µ (—Ç.–µ. –ø–æ–¥ —Å—Ç—Ä–æ–∫–∏, `q`);
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏;
- –í —Ü–∏–∫–ª–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫ **–º–∞—Ç—Ä–∏—Ü—ã** (`0 <= i < n`);
- `p[i]` = –∞–¥—Ä–µ—Å `i`-–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –º–∞—Å—Å–∏–≤–µ `q`.

**–ê–ª–≥–æ—Ä–∏—Ç–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.**

**–í—Ö–æ–¥**: 

–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã (`p`)

- –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å –∏–∑-–ø–æ–¥ –¥–∞–Ω–Ω—ã—Ö (–∞–¥—Ä–µ—Å –¥–∞–Ω–Ω—ã—Ö = –∞–¥—Ä–µ—Å —Å—Ç—Ä–æ–∫–∏ `0`);
- –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å –∏–∑-–ø–æ–¥ –º–∞—Å—Å–∏–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π (`p`).

|                                 +                                  |                                      -                                       |
| **–ü–ª—é—Å—ã**| **–ú–∏–Ω—É—Å—ã** |
| <br>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç–æ—Ç–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.<br><br> | <br>–û—Ç–ª–∞–¥—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –Ω–µ –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–¥–∏—Ç—å –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å—Ç—Ä–æ–∫–∏. |
|     <br>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤.<br><br>     |           <br>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.<br>            |
|       <br>–ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ –æ–±–º–µ–Ω —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.<br><br>        |                                                                              |

## **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ (2).** [üîº](#top)

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-01-29%20–≤%2007.21.48.png)

**–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.**

**–í—Ö–æ–¥**:  

`n`, `m`.

**–í—ã—Ö–æ–¥**:  

–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã (`p`).

1. –í—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Å—Ç—Ä–æ–∫–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Ç—Ä–∏—Ü—ã (`p`);
2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏;
3. –í —Ü–∏–∫–ª–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫ **–º–∞—Ç—Ä–∏—Ü—ã** (`0 <= i < n`):
- –í—ã—á–∏—Å–ª–∏—Ç—å –∞–¥—Ä–µ—Å `i`-–æ–π —Å—Ç—Ä–æ–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã (`q`);
- `p[i] = q`.

|                             +                              |                                      -                                       |
| **–ü–ª—é—Å—ã**| **–ú–∏–Ω—É—Å—ã** |
|   <br>–ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ –æ–±–º–µ–Ω —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.<br><br>    | <br>–û—Ç–ª–∞–¥—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –Ω–µ –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–¥–∏—Ç—å –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å—Ç—Ä–æ–∫–∏. |
| <br>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤.<br><br> |                  <br>–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.<br>                   |
|    <br>–ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.<br><br>    |                                                                              |

**–û–±—â–µ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:**

| **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞**                                                   | **–û–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤** | **–ú–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π** | **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ (1)** | **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ (2)** |
|----------------------------------------------------------------------|:---------------------:|:---------------------:|:-------------------:|:-----------------:|
| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤.                      |        –ï—Å—Ç—å.         |        –ù–µ—Ç.         |        –ï—Å—Ç—å.        |      –ï—Å—Ç—å .      |
| –í—ã–¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.                                     |       –ü—Ä–æ—Å—Ç–æ.       |      –°–ª–æ–∂–Ω–æ.       | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ. |     –ü—Ä–æ—Å—Ç–æ.      |
| –ù–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è.                                             |         ‚Äì         |         ‚Äì         | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–æ. |     –°–ª–æ–∂–Ω–æ.      |
| –û—Ç–ª–∞–¥—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–¥–∏—Ç—å –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å—Ç—Ä–æ–∫. |        –ù–µ—Ç.        |        –î–∞.        |         –ù–µ—Ç.        |       –ù–µ—Ç.       |
| –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ –æ–±–º–µ–Ω —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.                           |         ‚Äì         |        –î–∞.        |       –î–∞.       |       –î–∞.       |

<div style="page-break-after: always;"></div>

# **–ß—Ç–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π.**[üîº](#top)

`[]` - –º–∞—Å—Å–∏–≤ —Ç–∏–ø–∞ ‚Ä¶

`[N]` - –º–∞—Å—Å–∏–≤ –∏–∑ **N** —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ ‚Ä¶

`(type)` - —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –∞—Ä–≥—É–º–µ–Ω—Ç —Ç–∏–ø–∞ *type* –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è ‚Ä¶

`*` - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ ‚Ä¶ 

1. –ß–∏—Ç–∞—Ç—å –Ω—É–∂–Ω–æ –∏–∑–Ω—É—Ç—Ä–∏ –Ω–∞—Ä—É–∂—É (—Ç.–µ. —Å –∏–º–µ–Ω–∏ —Å—É—â–Ω–æ—Å—Ç–∏). –ò–ª–∏ –∂–µ: –¥–≤–∏–≥–∞–µ–º—Å—è –≤–ø—Ä–∞–≤–æ –ø–æ–∫–∞ –º–æ–∂–µ–º, –∏–Ω–∞—á–µ –≤–ª–µ–≤–æ. 
2. –û—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä.
3. –ù—É–∂–Ω–æ –æ—Ç–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ `[]` –∏ `()`, –∞ –Ω–µ `*`

```text
*name[] - –º–∞—Å—Å–∏–≤ —Ç–∏–ø–∞, –∞ –Ω–µ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ ...
*name() - —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è, –∞ –Ω–µ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ ...
```

**–ü—Ä–∏–º–µ—Ä—ã**

```—Å
long **foo[7];
```

–ú–∞—Å—Å–∏–≤ –∏–∑ 7 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `long`.

```c
int *(*x[10])(int, int); 
```

–ú–∞—Å—Å–∏–≤ –∏–∑ 10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ç–∏–ø–∞ `int` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `int`.

```c
char *(*(**foo[][8])())[]; 
```

–ú–∞—Å—Å–∏–≤ —Ç–∏–ø–∞ –º–∞—Å—Å–∏–≤ –∏–∑ 8 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `char`.

**–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**

- –ú–∞—Å—Å–∏–≤ —Ñ—É–Ω–∫—Ü–∏–π —Å–æ–∑–¥–∞—Ç—å –Ω–µ–ª—å–∑—è:

```c
int a[10](int);
```

- –§—É–Ω–∫—Ü–∏—è –Ω–µ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é:

```c
int g(int)(int);
```

- –§—É–Ω–∫—Ü–∏—è –Ω–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤:

```c
int f(int)[];
```

- –î–ª—è –º–∞—Å—Å–∏–≤–∞ —Ç–æ–ª—å–∫–æ –ª–µ–≤–∞—è –ª–µ–∫—Å–µ–º–∞ `[]` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π:

```c
int a[][];
```

- –¢–∏–ø `void` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π:

```c
void x;
void x[5];
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ typedef.**

```c
int *(*x[10])(void);

typedef int *func_t(void);
typedef func_t *func_ptr;
typedef func_ptr func_ptr_arr[10];

func_ptr_arr x;
```

<div style="page-break-after: always;"></div>

# **–°—Ç—Ä–æ–∫–∏ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏. –§—É–Ω–∫—Ü–∏–∏ POSIX –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ GNU (`strdup`, `getline`, `sprintf`).**[üîº](#top)

`strdup`, `strndup`

`strdup`, `strndup` ‚Äî –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –±–∞–π—Ç.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø—ã:**
```c
#include <string.h>

char *strdup(const char *s);
char *strndup(const char *s, size_t size);
```

`strdup` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É, —è–≤–ª—è—é—â—É—é—Å—è –¥—É–±–ª–∏–∫–∞—Ç–æ–º —Å—Ç—Ä–æ–∫–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —É–∫–∞–∑—ã–≤–∞–µ—Ç `s`. –ù–µ—É–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ ‚Äî –≤–æ–∑–≤—Ä–∞—Ç `NULL`.

`strndup` ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ —Ä–∞–±–æ—Ç–µ `strdup`, –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å —á–µ—Ä–µ–∑ `malloc`, –Ω–æ –∫–æ–ø–∏—Ä—É–µ—Ç –Ω–µ –±–æ–ª–µ–µ `size + 1` –±–∞–π—Ç, –∑–∞–≤–µ—Ä—à–∞—è —Å—Ç—Ä–æ–∫—É `NUL`-—Å–∏–º–≤–æ–ª–æ–º.
- `s > size` ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `size` –±–∞–π—Ç.
- `s < size` ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤—Å—è —Å—Ç—Ä–æ–∫–∞, –≤–∫–ª—é—á–∞—è `NUL`-—Å–∏–º–≤–æ–ª.

–ù–æ–≤–æ—Å–æ–∑–¥–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

`getline`.

`getline` ‚Äî —Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –ø–æ—Ç–æ–∫–∞.

**–ü—Ä–æ—Ç–æ—Ç–∏–ø:**
```c
#include <stdio.h>

ssize_t getline(char **restrict lineptr, 
size_t *restrict n,
FILE *restrict stream);
```

–°—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –∏–∑ `stream` –¥–æ —Å–∏–º–æ–ª–∞ `\n` –∏–ª–∏ `EOF`.

`*lineptr == NULL` –∏–ª–∏ —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω:
- `malloc` –∏–ª–∏ `realloc`;
- `*n` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–æ –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞;
- `*lineptr` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è.

–ü—Ä–æ—á–∏—Ç–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `*lineptr`, –≤–∫–ª—é—á–∞—è `\n` (–µ—Å–ª–∏ –≤—Å—Ç—Ä–µ—á–µ–Ω –¥–æ `EOF`), –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è `NUL`-—Å–∏–º–≤–æ–ª–æ–º.

- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç, –≤–∫–ª—é—á–∞—è `\n`, –Ω–æ –±–µ–∑ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ `NUL`-—Å–∏–º–≤–æ–ª–∞.
- –î–æ—Å—Ç–∏–≥–Ω—É—Ç `EOF` –∏ –Ω–µ —Å—á–∏—Ç–∞–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ ‚Äî—É—Å—Ç–∞–Ω–∞–≤–∫–∞ —Ñ–ª–∞–≥–∞ `EOF`, —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `-1`.
- –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ –æ—à–∏–±–∫–∏ –ø–æ—Ç–æ–∫–∞ –∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `-1`.

`sprintf`, `snprintf`,  `asprintf`.

```c
#include <stdio.h>

int sprintf(char *s, 
const char *format, ...);  // ISO C90

int snprintf(char *s, size_t n, 
const char *format, ...);  // C99

int asprintf(char **s, 
const char *format, ...);  // GNU
```

`sprintf` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ `s ` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –±—É—Ñ–µ—Ä–∞.

`snprintf` ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω `sprintf`, –Ω–æ:
- `n` —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ `s`;
- `n == 0`‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –±—ã –∑–∞–ø–∏—Å–∞–Ω–∞;
- –°—Ç—Ä–æ–∫–∞ –¥–ª–∏–Ω–Ω–µ–µ `n - 1` –±–∞–π—Ç ‚Äî –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è, –∞ –≤ –∫–æ–Ω–µ—Ü –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è `NUL`-—Å–∏–º–≤–æ–ª.

`asprintf` ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω `sprintf`, –Ω–æ:

- `malloc` –≤—ã–¥–µ–ª—è–µ—Ç –±—É—Ñ–µ—Ä –ø–æ–¥ —Å—Ç—Ä–æ–∫—É.
- –£–∫–∞–∑–∞—Ç–µ–ª—å `*s` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ `malloc` –∏–ª–∏ `realloc` –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª –æ–±—ä–µ–∫—Ç.
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `free`.

`sprintf`, `snprintf`, `asprintf` –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ.

–§–æ—Ä–º–∞—Ç–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ `format` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –û–±—ã—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (–∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ `s`);
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∞ `%`, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤—ã–≤–æ–¥–∏–º—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã.

**–í–æ–∑–≤—Ä–∞—Ç:**
- `sprintf` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç, –±–µ–∑ —É—á—ë—Ç–∞ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ `NUL`-—Å–∏–º–≤–æ–ª–∞;
- `snprintf` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –±—É—Ñ–µ—Ä –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω;
- `asprintf` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç –∏–ª–∏ `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏;
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

**Feature test macros.**

**Feature Test Macros (FTM)** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∏–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.

```c
// –Ω–∞—á–∏–Ω–∞—è —Å glibc 2.10 –∏ –Ω–æ–≤–µ–µ
#define _POSIX_C_SOURCE 200809L

// –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö glibc –¥–æ 2.10
# define _GNU_SOURCE
```

<div style="page-break-after: always;"></div>

# **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä —Å –ø–æ–ª—è–º–∏-—É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏.**[üîº](#top)

–í –°–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞. –û–Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏, –∑–∞–Ω–∏–º–∞–µ–º–æ–π –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –≤ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, –∑–∞–Ω–∏–º–∞–µ–º—É—é –¥—Ä—É–≥–æ–π.

**–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –Ω–æ –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ, –Ω–∞ —á—Ç–æ –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å –ø–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

**–ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–π –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –ø–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä:
```c
struct book_t
{
	char *title;
	int year;
};
```

```c
struct book_t *book_create(const char *title, 
int year)
{
    struct book_t *pbook = 
    malloc(sizeof(struct book_t));

    if (pbook != NULL)
    {
        pbook->title = strdup(title);
        
        if (pbook->title)
        {
            pbook->year = year;
        }
        else
        {
            free(pbook);
            pbook = NULL;
        }
    }

    return pbook;
}
```

–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –≤—ã–∑–æ–≤ –æ—à–∏–±–∫–∏ (–¥–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏):
```c
struct book_t a = { 0 }, b = { 0 };

a.title = strdup("Book a");
a.year = 2000;

b.title = strdup("Book b");
b.year = 2005;

a = b;

free(a.title);
free(b.title); // ERR
```

–î–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–≥–æ –∏ –≥–ª—É–±–æ–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-01-30%20–≤%2015.26.03.png)

–ü–æ—Å–ª–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-01-30%20–≤%2015.27.21.png)

–ü—Ä–∏–º–µ—Ä –≥–ª—É–±–æ–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

```c
int book_copy(struct book_t *dst, const 
struct book_t *src)
{
	int rc = 0;
    char *temp = strdup(src->title);
    
    if (temp == NULL)
    {
    		rc = 1;
    }
    else
    {
    		free(dst->title);
    		dst->title = temp;
    		dst->year = src->year;
    }
    
    return rc;
}

...

book_copy(&b, &a);

...

free(a.title);
free(b.title);
```

–ü–æ—Å–ª–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-01-30%20–≤%2015.26.03.png)

**–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.**

–î–ª—è –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –ø–æ–ª–µ–º-—É–∫–∞–∑–∞—Ç–µ–ª–µ–º, –ø—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ ‚Äî
—Å–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å –∏–∑-–ø–æ–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–æ–ª–µ–π, –ø–æ—Ç–æ–º –∏–∑-–ø–æ–¥ —Å–∞–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

```c
void book_free(struct book_t *pbook)
{
    if (pbook != NULL)
    {
        free(pbook->title);
        free(pbook);
    }
}
```

<div style="page-break-after: always;"></div> 

# **–°—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.** [üîº](#top)

**TLV** (Type (–∏–ª–∏ Tag) Length Value) ‚Äî —Å—Ö–µ–º–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö.

- **Type** ‚Äì –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö;
- **Length** ‚Äì —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö (–æ–±—ã—á–Ω–æ –≤ –±–∞–π—Ç–∞—Ö);
- **Value** ‚Äì –¥–∞–Ω–Ω—ã–µ.

–ü–µ—Ä–≤—ã–µ –¥–≤–∞ –ø–æ–ª—è –∏–º–µ—é—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä.

**TLV** –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
- —Å–µ–º–µ–π—Å—Ç–≤–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ TCP/IP;
- —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è PC/SC (smart cards);
- ASN.1;
- ...

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ **TLV** –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–±–æ—Ä–∞;
- ¬´–¢—Ä–æ–π–∫–∏¬ª **TLV** c –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç–∏–ø–æ–º (—Ç–µ–≥–æ–º) –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω—ã –ø—Ä–∏ —Ä–∞–∑–±–æ—Ä–µ;
- ¬´–¢—Ä–æ–π–∫–∏¬ª **TLV** –º–æ–≥—É—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ;
- ¬´–¢—Ä–æ–π–∫–∏¬ª **TLV** –æ–±—ã—á–Ω–æ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –¥–≤–æ–∏—á–Ω–æ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–∑–±–æ—Ä –±—ã—Å—Ç—Ä–µ–µ –∏ —Ç—Ä–µ–±—É–µ—Ç –º–µ–Ω—å—à–µ –æ–±—ä–µ–º–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–º –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏.

**Flexible array member (C99).**

```c
struct s
{ 
	int n;
	double d[];
};
```

- –ü–æ–¥–æ–±–Ω–æ–µ –ø–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–º;
- –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä —Å —Ç–∞–∫–∏–º –ø–æ–ª–µ–º;
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —Ç–∞–∫–∏–º –ø–æ–ª–µ–º –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ —á–ª–µ–Ω –≤ ¬´—Å–µ—Ä–µ–¥–∏–Ω–µ¬ª –¥—Ä—É–≥–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã;
- –û–ø–µ—Ä–∞—Ü–∏—è `sizeof` –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —ç—Ç–æ–≥–æ –ø–æ–ª—è (–≤–æ–∑–º–æ–∂–Ω–æ, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è);
- –ï—Å–ª–∏ –≤ —ç—Ç–æ–º –º–∞—Å—Å–∏–≤–µ –Ω–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º ‚Äî –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

<div style="page-break-after: always;"></div> 

# **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –º–∞—Å—Å–∏–≤.** [üîº](#top)

**–ú–∞—Å—Å–∏–≤** ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º.

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤** ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤, —Ä–∞–∑–º–µ—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–¥–∞—ë—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∞ –Ω–µ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –º–∞—Å—Å–∏–≤** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è —Å–æ–±–æ–π —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–∏–π—Å—è –±–ª–æ–∫ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞.

**–û—Ç–ª–∏—á–∏–µ –æ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—Å–∏–≤–∞.**

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.**

- –ü–æ—Å–∫–æ–ª—å–∫—É –∞–¥—Ä–µ—Å –º–∞—Å—Å–∏–≤–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –º–∞—Å—Å–∏–≤–∞ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º;
–£–¥–≤–æ–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `realloc` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ä–µ–¥–Ω–∏–µ ¬´–æ–∂–∏–¥–∞–µ–º—ã–µ¬ª –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞;
- –ë–ª–∞–≥–æ–¥–∞—Ä—è –º–∞–ª–µ–Ω—å–∫–æ–º—É –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É –º–∞—Å—Å–∏–≤–∞, –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å—Ä–∞–∑—É –∂–µ ¬´–ø—Ä–æ–≤–µ—Ä—è–µ—Ç¬ª –∫–æ–¥, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.

**–ü–æ—á–µ–º—É –ø–∞–º—è—Ç—å –Ω–∞–¥–æ –≤—ã–¥–µ–ª—è—Ç—å –∫—Ä—É–ø–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏?**

- –î–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—å –ø—Ä–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫—Ä—É–ø–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏;
- –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –º–∞—Å—Å–∏–≤–æ–º.

**–î–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤**

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è;
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É;
- –ù–µ —Ç—Ä–∞—Ç—è—Ç –ª–∏—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã;
- –•–æ—Ä–æ—à–æ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è —Å –¥–≤–æ–∏—á–Ω—ã–º –ø–æ–∏—Å–∫–æ–º.

**–ú–∏–Ω—É—Å—ã:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–Ω—è—é—â–µ–≥–æ—Å—è –Ω–∞–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π.

<div style="page-break-after: always;"></div>

# **–õ–∏–Ω–µ–π–Ω—ã–π –æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫.** [üîº](#top)

**–ú–∞—Å—Å–∏–≤** ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –º–∞—Å—Å–∏–≤–∞** –æ–±—ä—è—Å–Ω—è—é—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏: –ø–∞–º—è—Ç—å –ø–æ–¥ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –±–ª–æ–∫–µ.

**–ü–ª—é—Å—ã:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã;
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç—É.

**–ú–∏–Ω—É—Å—ã:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–Ω—è—é—â–µ–≥–æ—Å—è –Ω–∞–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π.

**–°–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫** ‚Äì —ç—Ç–æ –Ω–∞–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø—Ä–∏—á–µ–º –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö ‚Äî —á–∞—Å—Ç—å —É–∑–ª–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∏/–∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É–∑–µ–ª —Å–ø–∏—Å–∫–∞.

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-19%20–≤%2002.08.57.png)

**–£–∑–µ–ª** ‚Äì –µ–¥–∏–Ω–∏—Ü–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –Ω–µ—Å—É—â–∞—è –≤ —Å–µ–±–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–π —É–∑–ª—ã.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–∞:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —á–∞—Å—Ç—å (–¥–∞–Ω–Ω—ã–µ);
- –°—Å—ã–ª–æ—á–Ω–∞—è —á–∞—Å—Ç—å (—Å–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —É–∑–ª–∞–º–∏).

**–û—Ç–ª–∏—á–∏–µ —Å–ø–∏—Å–∫–æ–≤ –æ—Ç –º–∞—Å—Å–∏–≤–æ–≤.**

- –°–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫, –∫–∞–∫ –∏ –º–∞—Å—Å–∏–≤, —Ö—Ä–∞–Ω–∏—Ç –Ω–∞–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, –Ω–æ –ø–∞–º—è—Ç—å –ø–æ–¥ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –ª–∏—à—å —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ;
- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Å–≤—è–∑–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ –ø–µ—Ä–µ–¥ –º–∞—Å—Å–∏–≤–∞–º–∏ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤;
- –ó–∞ —ç—Ç—É –≥–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Å–ø–∏—Å–∫–∞, —Ç.–∫. –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–∏ —Å–≤—è–∑–µ–π –æ—Ç –Ω–∞—á–∞–ª–∞ —Å–ø–∏—Å–∫–∞.

**–õ–∏–Ω–µ–π–Ω—ã–π –æ–¥–Ω–æc–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** ‚Äì —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ —É–∑–ª–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª —Å–ø–∏—Å–∫–∞.

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-19%20–≤%2002.09.03.png)

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞.**
- –£–∑–µ–ª, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—è, —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å–ø–∏—Å–∫–∞. –û–±—ã—á–Ω–æ —ç—Ç–æ—Ç —É–∑–µ–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–≥–æ–ª–æ–≤–æ–π —Å–ø–∏—Å–∫–∞**;
- –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –Ω–∏–∫—É–¥–∞ –Ω–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è (—Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `NULL`). –û–±—ã—á–Ω–æ —ç—Ç–æ—Ç —É–∑–µ–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **—Ö–≤–æ—Å—Ç–æ–º —Å–ø–∏—Å–∫–∞**.

**–°–≤–æ–π—Å—Ç–≤–∞ –æ–¥–Ω–æc–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.**
- –ü–µ—Ä–µ–¥–≤–∏–≥–∞—Ç—å—Å—è –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–æ—Ä–æ–Ω—É –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞;
- –£–∑–Ω–∞—Ç—å –∞–¥—Ä–µ—Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –æ–ø–∏—Ä–∞—è—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞, –Ω–µ–ª—å–∑—è.

```c
typedef struct node_t
{
    int data;
    node_t *next;
} node_t;
```


## **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–æ.** [üîº](#top)

```c
int push_front(node **head, int value)
{
    int rc = OK;
    node *new_node = NULL;

    if ((new_node = malloc(sizeof(node))) == NULL)
    {
        rc = ERR_MEM;
    }
    else
    {
        new_node->data = value;
        new_node->next = *head;
        *head = new_node;
    }

    return rc;
}
```

## **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü.** [üîº](#top)

```c
int push_back(node **head, int value)
{
    int rc = OK;
    node *new_node = NULL;
    
    if ((new_node = malloc(sizeof(node))) == NULL)
    {
        rc = ERR_MEM;
    }
    else
    {   
        new_node->data = value;
        new_node->next = NULL;
        
        if (*head == NULL)
        {
            *head = new_node;
        }
        else
        {
            node *temp_node = *head;
            
            while (temp_node->next != NULL)
            {
                temp_node = temp_node->next;
            }
            
            temp_node->next = new_node;
        }
    }
    
    return rc;
}
```

## **–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞.** [üîº](#top)

```c
int remove_node(node **head, int value)
{
    int rc = OK;
    node *temp_node = *head;
    node *prev_node = NULL;

    while (temp_node != NULL && temp_node->data != value)
    {
        prev_node = temp_node;
        temp_node = temp_node->next;
    }

    if (temp_node == NULL)
    {
        rc = ERR_FIND;
    }
    else if (prev_node == NULL)
    {
        *head = temp_node->next;
    }
    else
    {
        prev_node->next = temp_node->next;
    }

	if (temp_node != NULL)
    {
        free(temp_node);
    }
    
    return rc;
}
```

## **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞.** [üîº](#top)

```c
void free_node(node **head)
{
	node *temp_node = NULL;

	while (*head != NULL)
	{
		temp_node = *head;
		*head = (*head)->next;
		free(temp_node);
	}
}
```

## **–í—Å—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–¥ —É–∑–ª–æ–º.** [üîº](#top)

```c
int insert_before(node **head, int value)
{
    int rc = OK;
    node *temp_node = *head;
    node *prev_node = NULL;
    node *new_node = NULL;
    
    while (temp_node != NULL && temp_node->data != value)
    {
        prev_node = temp_node;
        temp_node = temp_node->next;
    }

    if (temp_node == NULL)
    {
        rc = ERR_FIND;
    }
    else if ((new_node = malloc(sizeof(node))) == NULL)
    {
        rc = ERR_MEM;
    }
    else
    {
        new_node->data = value;
        new_node->next = temp_node;

        if (prev_node == NULL)
        {
            *head = new_node;
        }
        else
        {
            prev_node->next = new_node;
        }
    }
    
    return rc;
}
```
 
## **–í—Å—Ç–∞–≤–∫–∞ –ø–æ—Å–ª–µ —É–∑–ª–∞.** [üîº](#top)

```c
int insert_after(node **head, int value)
{
    int rc = OK;
    node *temp_node = *head;
    node *new_node = NULL;

    while (temp_node != NULL && temp_node->data != value)
    {
        temp_node = temp_node->next;
    }

    if (temp_node == NULL)
    {
        rc = ERR_FIND;
    }
    else if ((new_node = malloc(sizeof(node))) == NULL)
    {
        rc = ERR_MEM;
    }
    else
    {
        new_node->data = value;
        new_node->next = temp_node->next;
        temp_node->next = new_node;
    }

    return rc;
}
```

## **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ö–æ–¥.** [üîº](#top)
 
```c
void traverse_list(node *head, void (*func)(node *))
{
    while (head != NULL)
    {
        func(head);
        head = head->next;
    }
}
```

<div style="page-break-after: always;"></div> 

# **–î–≤–æ–∏—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞.** [üîº](#top)

**–î–µ—Ä–µ–≤–æ** ‚Äî —Å–≤—è–∑–Ω—ã–π –∞—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ.  

**–î–≤–æ–∏—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞** ‚Äî —ç—Ç–æ –¥–µ—Ä–µ–≤–æ, –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã –∫–æ—Ç–æ—Ä–æ–≥–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã, –∫–∞–∂–¥–∞—è –≤–µ—Ä—à–∏–Ω–∞ –∏–º–µ–µ—Ç –Ω–µ –±–æ–ª–µ–µ –¥–≤—É—Ö –ø–æ—Ç–æ–º–∫–æ–≤ (–Ω–∞–∑–æ–≤—ë–º –∏—Ö –ª–µ–≤—ã–º –∏ –ø—Ä–∞–≤—ã–º), –∏ –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã, –∫—Ä–æ–º–µ –∫–æ—Ä–Ω—è, –∏–º–µ—é—Ç —Ä–æ–¥–∏—Ç–µ–ª—è.  

–£ –¥–≤–æ–∏—á–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ª–µ–≤–æ–≥–æ –ø–æ—Ç–æ–º–∫–∞ **–º–µ–Ω—å—à–µ** –∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–≥–æ –ø–æ—Ç–æ–º–∫–∞ **–±–æ–ª—å—à–µ** –∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –¥–µ—Ä–µ–≤–∞. –≠—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫.  

## **–£–∑–µ–ª –¥–µ—Ä–µ–≤–∞.** [üîº](#top)

**–£–∑–µ–ª –¥–µ—Ä–µ–≤–∞** –æ–±—ã—á–Ω–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —á–∞—Å—Ç—å** (–¥–∞–Ω–Ω—ã–µ).
- **–°—Å—ã–ª–æ—á–Ω–∞—è —á–∞—Å—Ç—å** (—Å–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —É–∑–ª–∞–º–∏).  

```c
typedef struct tree_node
{
    int data;
    // struct tree_node *parent;
    struct tree_node *left;
    struct tree_node *right;
} tree_node;
```

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö —É–∑–µ–ª –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è, –Ω–æ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –¥–≤–æ–∏—á–Ω–æ–º –¥–µ—Ä–µ–≤–µ –ø–æ–∏—Å–∫–∞ **—É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º**.  

## **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥–µ—Ä–µ–≤–æ–º.** [üîº](#top)

**–û–±—ã—á–Ω–æ–µ –¥–≤–æ–∏—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ.**  
- –ö–∞–∂–¥—ã–π —É–∑–µ–ª –º–æ–∂–µ—Ç –∏–º–µ—Ç—å **–Ω–µ –±–æ–ª–µ–µ –¥–≤—É—Ö –ø–æ—Ç–æ–º–∫–æ–≤**;
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π;  
- –í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π **O(n)**.  

**–î–≤–æ–∏—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞ (BST).**  
- –õ–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —É–∑–ª—ã —Å **–º–µ–Ω—å—à–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏**;
- –ü—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —É–∑–ª—ã —Å **–±–æ–ª—å—à–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏**;
- –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π **O(log n)**.  

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-25%20–≤%2017.47.23.png)

**DOT** ‚Äì —è–∑—ã–∫ –æ–ø–∏—Å–∞–Ω–∏—è –≥—Ä–∞—Ñ–æ–≤.

- –ì—Ä–∞—Ñ, –æ–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ —è–∑—ã–∫–µ **DOT**, –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.gv` –≤ –ø–æ–Ω—è—Ç–Ω–æ–º –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ñ–æ—Ä–º–∞—Ç–µ;
- –í –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –≤–∏–¥–µ –≥—Ä–∞—Ñ—ã, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ —è–∑—ã–∫–µ **DOT**, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º, –Ω–∞–ø—Ä–∏–º–µ—Ä **Graphviz**.

**–û–ø–∏—Å–∞–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –Ω–∞ DOT.**

```dot
// –û–ø–∏—Å–∞–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –Ω–∞ DOT
digraph test_tree 
{
    f -> b;
    f -> k;
    b -> a;
    b -> d;
    k -> g;
    k -> l;
}
```

## **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞.** [üîº](#top)
```c
int insert(tree_node **root, tree_node *new_node)
{
	int rc = OK;
	tree_node *temp_node = *root;

	if (new_node == NULL)
	{
		rc = ERR_PARAM;
	}
	else if (*root == NULL)
	{
		*root = new_node;
	}
	else
	{
		while (rc == OK && temp_node != NULL)
		{
			if (new_node->data < temp_node->data)
			{
				if (temp_node->left == NULL)
				{
					temp_node->left = new_node;
				}
				else
				{
					temp_node = temp_node->left;
				}
			}
			else if (new_node->data > temp_node->data)
			{
				if (temp_node->right == NULL)
				{
					temp_node->right = new_node;
				}
				else
				{
					temp_node = temp_node->right;
				}
			}
			else
			{
				rc = ERR_DUPL;
			}
		}
	}

	return rc;
}
```

<div style="page-break-after: always;"></div>

# **–ö—É—á–∞ –≤ –°–∏. –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–±–æ—Ç—ã `malloc`, `free`. –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ.** [üîº](#top)

## **–ö—É—á–∞ –≤ –°–∏.** [üîº](#top)

–û–±–ª–∞—Å—Ç–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
1. **C–µ–≥–º–µ–Ω—Ç—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
2. **C—Ç–µ–∫** ‚Äî –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å–æ–∑–¥–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
3. **–ö—É—á–∞** ‚Äî –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.

**–ö—É—á–∞** ‚Äî –ø—É–ª —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏.

–í–æ–∑–º–æ–∂–Ω–æ, —Ç–µ—Ä–º–∏–Ω –ø—Ä–æ–∏–∑–æ—à—ë–ª –∫–∞–∫ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω—É **—Å—Ç–µ–∫–∞**, —Ç. –∫. –≤ —Å—Ç–µ–∫–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –æ–¥–∏–Ω –Ω–∞–¥ –¥—Ä—É–≥–∏–º, –∞ –≤ –∫—É—á–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –≤ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ—Ç.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏:**
- –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—É—á–∞.
- –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –∫—É—á–µ –Ω–µ–ª—å–∑—è, –Ω–æ –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ –Ω–µ—ë.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑–≤–µ—Å—Ç–µ–Ω –Ω–∞ —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∞ –Ω–µ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.
- –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –∫—É—á–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ä—è–¥–∫–æ–≤ –±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç–µ–∫–µ.
- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –∫—É—á–µ –Ω–∏–∫–∞–∫ –Ω–µ —Å–≤—è–∑–∞–Ω–æ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ —Ç–æ–≥–æ –±–ª–æ–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—ã–¥–µ–ª—è–ª–∞—Å—å –ø–∞–º—è—Ç—å –ø–æ–¥ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ (–º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –≤ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –æ—á–∏—Å—Ç–∏—Ç—å –≤ –¥—Ä—É–≥–æ–π).

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ (—Å–∞–º–∏ –≤—ã–¥–µ–ª–∏–ª–∏ –ø–∞–º—è—Ç—å ‚Äî —Å–∞–º–∏ –æ—Å–≤–æ–±–æ–¥–∏–ª–∏)

–°–≤–æ–π—Å—Ç–≤–∞ –æ–±–ª–∞—Å—Ç–∏, –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π `malloc`:
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–ª–∞—Å—Ç—å, —Ä–∞–∑–º–µ—Ä –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.
- –£–∫–∞–∑–∞—Ç–µ–ª—å, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–π `malloc`, —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å, —Ç.–µ. –æ–±–ª–∞—Å—Ç—å, –≤ –∫–æ—Ç–æ—Ä—É—é –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –∏ –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
- –ù–∏ –æ–¥–∏–Ω –¥—Ä—É–≥–æ–π –≤—ã–∑–æ–≤ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –æ–±–ª–∞—Å—Ç—å –¥–æ –µ—ë –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è.

–î–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ –ø–æ–¥ –∫—É—á—É –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤:

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-18%20–≤%2013.24.19.png)

–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –≤—ã–¥–µ–ª–∏–ª 100 –±–∞–π—Ç:

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-18%20–≤%2013.25.32.png)

–ß—Ç–æ–±—ã –≤—ã–¥–µ–ª–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –æ–±–ª–∞—Å—Ç—å –≤–∞–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å:
- –ö–∞–∫–∏–µ –æ–±–ª–∞—Å—Ç–∏ –≤ –Ω–∞—à–µ–π –∫—É—á–∏ –∑–∞–Ω—è—Ç—ã, –∞ –∫–∞–∫–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ.
- –ì–¥–µ —ç—Ç–∏ –æ–±–ª–∞—Å—Ç–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã.
- –†–∞–∑–º–µ—Ä —ç—Ç–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π.

–ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç –≤ –Ω–∞—á–∞–ª–µ —Å–∞–º–æ–π –æ–±–ª–∞—Å—Ç–∏. 

–í—ã–¥–µ–ª—è–µ–º 100 –±–∞–π—Ç + —Ä–∞–∑–º–µ—Ä –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-18%20–≤%2013.30.52.png)

**–§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è** - —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ —É—á–∞—Å—Ç–∫–æ–≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏. ¬´–ó–∞–Ω—è—Ç—ã–µ¬ª —É—á–∞—Å—Ç–∫–∏ —á–µ—Ä–µ–¥—É—é—Ç—Å—è —Å–æ ¬´—Å–≤–æ–±–æ–¥–Ω—ã–º–∏¬ª ‚Äî
–æ–¥–Ω–∞–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º–∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –Ω–∏—Ö –Ω—É–∂–Ω–æ–µ –¥–∞–Ω–Ω–æ–µ.

**–î–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è** –≤ –∫—É—á–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –±–ª–æ–∫–æ–≤ –ø–∞–º—è—Ç–∏. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –ø–∞–º—è—Ç–∏ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –±–æ–ª—å—à–∏–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ –±–ª–æ–∫–∏ –∏ —É–º–µ–Ω—å—à–∏—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é.

## **–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–±–æ—Ç—ã `malloc`.** [üîº](#top)
```c
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–ª–æ–∫–∞—Ö –ø–∞–º—è—Ç–∏
struct block_t
{
	size_t size;        // –†–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –ø–∞–º—è—Ç–∏
	int free;           // –§–ª–∞–≥: 1 ‚Äî —Å–≤–æ–±–æ–¥–µ–Ω, 0 ‚Äî –∑–∞–Ω—è—Ç
	struct block_t *next; // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –±–ª–æ–∫
};

#define MY_HEAP_SIZE 1000000 // –†–∞–∑–º–µ—Ä "–∫—É—á–∏"

// –ë—É—Ñ–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —ç–º—É–ª–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å
static char my_heap[MY_HEAP_SIZE];

// –°–ø–∏—Å–æ–∫ –±–ª–æ–∫–æ–≤ –ø–∞–º—è—Ç–∏ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—á–∞–ª–æ "–∫—É—á–∏")
static struct block_t *free_list = (struct block_t*) my_heap;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –±–ª–æ–∫–æ–≤ –ø–∞–º—è—Ç–∏
static void init(void)
{
	free_list->size = sizeof(my_heap) - sizeof(struct block_t); // –í–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ä–∞–∑–º–µ—Ä
	free_list->free = 1; // –ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ —Å–≤–æ–±–æ–¥–Ω—ã–π
	free_list->next = NULL; // –°–ª–µ–¥—É—é—â–µ–≥–æ –±–ª–æ–∫–∞ –ø–æ–∫–∞ –Ω–µ—Ç
}

// –†–∞–∑–±–∏–µ–Ω–∏–µ –±–ª–æ–∫–∞ –Ω–∞ –¥–≤–∞, –µ—Å–ª–∏ –æ–Ω –±–æ–ª—å—à–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
static void split_block(struct block_t *block, size_t size)
{
	size_t rest = block->size - size;
	
	// –ï—Å–ª–∏ –æ—Å—Ç–∞–≤—à–∞—è—Å—è —á–∞—Å—Ç—å –ø–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –±–ª–æ–∫–∞
	if (rest > sizeof(struct block_t))
	{
		// –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –±–ª–æ–∫ –ø–æ—Å–ª–µ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É—á–∞—Å—Ç–∫–∞
		struct block_t *new = (void*)((char*)block + size + sizeof(struct block_t));
		new->size = block->size - size - sizeof(struct block_t);
		new->free = 1;
		new->next = block->next;
		
		// –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –±–ª–æ–∫
		block->size = size;
		block->free = 0;
		block->next = new;
	}
	else
	{
		// –ï—Å–ª–∏ –º–µ—Å—Ç–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ –±–ª–æ–∫–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ—á–∞–µ–º –±–ª–æ–∫ –∫–∞–∫ –∑–∞–Ω—è—Ç—ã–π
		block->free = 0;
	}
}

// –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–∞–Ω–∞–ª–æ–≥ malloc)
void *my_malloc(size_t size)
{
	struct block_t *cur;
	void *result;

	// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ª–∏ —Å–ø–∏—Å–æ–∫ –±–ª–æ–∫–æ–≤
	if (!free_list->size)
		init();

	// –ò—â–µ–º —Å–≤–æ–±–æ–¥–Ω—ã–π –±–ª–æ–∫ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
	cur = free_list;
	while (cur && (cur->free == 0 || cur->size < size))
		cur = cur->next;

	// –ï—Å–ª–∏ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –±–ª–æ–∫–∞ –Ω–µ—Ç ‚Äî –æ—à–∏–±–∫–∞
	if (!cur)
	{
		result = NULL;
	}
	// –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –±–ª–æ–∫ —Ç–æ—á–Ω–æ –ø–æ —Ä–∞–∑–º–µ—Ä—É ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ—á–∞–µ–º –µ–≥–æ –∫–∞–∫ –∑–∞–Ω—è—Ç—ã–π
	else if (cur->size == size)
	{
		cur->free = 0;
		result = (void*) (++cur);
	}
	// –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –±–ª–æ–∫ –±–æ–ª—å—à–µ, —á–µ–º —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ–º –µ–≥–æ
	else
	{
		split_block(cur, size);
		result = (void*) (++cur);
	}

	return result;
}
```

## **–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–±–æ—Ç—ã `free`.** [üîº](#top)
```c
// –§—É–Ω–∫—Ü–∏—è —Å–ª–∏—è–Ω–∏—è —Å–æ—Å–µ–¥–Ω–∏—Ö —Å–≤–æ–±–æ–¥–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –ø–∞–º—è—Ç–∏
static void merge_blocks(void)
{
    struct block_t *cur = free_list;
    // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å–ø–∏—Å–∫—É –±–ª–æ–∫–æ–≤
    while (cur && cur->next != NULL)
    {
        // –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –∏ —Å–ª–µ–¥—É—é—â–∏–π –±–ª–æ–∫ —Å–≤–æ–±–æ–¥–Ω—ã, –æ–±—ä–µ–¥–∏–Ω—è–µ–º –∏—Ö
        if (cur->free && cur->next->free)
        {
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞, –æ–±—ä–µ–¥–∏–Ω—è—è —Å —Å–æ—Å–µ–¥–Ω–∏–º
            cur->size += cur->next->size + sizeof(struct block_t);
            // –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –±–ª–æ–∫
            cur->next = cur->next->next;
        }
        else
        {
            cur = cur->next; // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–ª–æ–∫—É
        }
    }
}

// –§—É–Ω–∫—Ü–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
void my_free(void *ptr)
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –ª–µ–∂–∏—Ç –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ "–∫—É—á–∏"
    if (my_heap <= (char*) ptr && (char*) ptr < my_heap + sizeof(my_heap))
    {
        // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –±–ª–æ–∫—É, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é
        struct block_t *cur = ptr;
        --cur; // –ü–æ–ª—É—á–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –±–ª–æ–∫, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–∞–º—è—Ç—å

        cur->free = 1; // –ü–æ–º–µ—á–∞–µ–º –±–ª–æ–∫ –∫–∞–∫ —Å–≤–æ–±–æ–¥–Ω—ã–π
        merge_blocks(); // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å–æ—Å–µ–¥–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ –±–ª–æ–∫–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
    }
    else
        // –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –≤—ã–≤–æ–¥–∏–º –æ—à–∏–±–∫—É
        printf("Wrong pointer\n");
}

```

## **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ.** [üîº](#top)

**–ü—Ä–æ–±–ª–µ–º—ã –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏.**  

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –±–ª–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω. –í –∫–∞–∂–¥–æ–π —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å —Å–∞–º—ã–π ¬´—Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π¬ª —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö ‚Äî –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –ø–æ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º—É –∞–¥—Ä–µ—Å—É, —Ç–æ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–æ–∂–µ –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å —Ç—É–¥–∞.  

–ß—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–∞–º—ã–π —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ç–∏–ø, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö:  

```c
typedef long long align_t;
```  

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ `union`, –≥–¥–µ –æ–¥–∏–Ω –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ:  

```c
union block_t 
{
    struct 
    {
        size_t size;
        int free;
        union block_t *next;
    } block;
    
    align_t x;
};
```  

–¢–∞–∫ –∫–∞–∫ –≤—Å–µ –±–ª–æ–∫–∏ –ø–∞–º—è—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω—ã, —Ä–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª—è–µ–º–æ–π –ø–∞–º—è—Ç–∏ –∫—Ä–∞—Ç–µ–Ω —Ä–∞–∑–º–µ—Ä—É –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä –æ–±–ª–∞—Å—Ç–∏ –æ–±—ã—á–Ω–æ –æ–∫—Ä—É–≥–ª—è–µ—Ç—Å—è –¥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∫—Ä–∞—Ç–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä—É –∑–∞–≥–æ–ª–æ–≤–∫–∞.  

```c
n_blocks = (size - 1 + sizeof(union block_t)) / sizeof(union block_t);
alloc_size = n_blocks * sizeof(union block_t);
```  

**–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ** ‚Äî —ç—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å–∞–º, –∫—Ä–∞—Ç–Ω—ã–º –Ω–µ–∫–æ—Ç–æ—Ä–æ–º—É —Ü–µ–ª–æ–º—É —á–∏—Å–ª—É, –±–æ–ª—å—à–µ–º—É –µ–¥–∏–Ω–∏—Ü—ã.  

–ü—Ä–∏—á–∏–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–∞–∫–æ–µ –ø–æ–Ω—è—Ç–∏–µ, –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º –ø—Ä–æ—â–µ –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.  

**–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ** ‚Äî —ç—Ç–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ) –ø–æ –∞–¥—Ä–µ—Å–∞–º, –∫—Ä–∞—Ç–Ω—ã–º —Ä–∞–∑–º–µ—Ä—É —ç—Ç–æ–≥–æ —Ç–∏–ø–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, 4-–±–∞–π—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å–∞–º, –∫—Ä–∞—Ç–Ω—ã–º —á–µ—Ç—ã—Ä—ë–º (0, 4, 8, 12 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ), –∞ 8-–±–∞–π—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ `double` —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å–∞–º, –∫—Ä–∞—Ç–Ω—ã–º –≤–æ—Å—å–º–∏ (0, 8, 16, 24 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ).

<div style="page-break-after: always;"></div>

# **Variable length array. –§—É–Ω–∫—Ü–∏—è `alloca`.** [üîº](#top)

## **Variable length array.** [üîº](#top)

```c
scanf("%d", &n);
int a[n];
```

- –î–ª–∏–Ω–∞ —Ç–∞–∫–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∞ –Ω–µ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏;
- –ü–∞–º—è—Ç—å –ø–æ–¥ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ —Å—Ç–µ–∫–µ;
- –ú–∞—Å—Å–∏–≤—ã –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –Ω–µ–ª—å–∑—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏;
- –ú–∞—Å—Å–∏–≤—ã –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã –º–æ–≥—É—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–º–∏;
- –ê–¥—Ä–µ—Å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã;
- –ú–∞—Å—Å–∏–≤—ã –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã –æ–±–ª–µ–≥—á–∞—é—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –º–∞—Å—Å–∏–≤—ã.

## **–§—É–Ω–∫—Ü–∏—è`alloca`.** [üîº](#top)

```c
#include <alloca.h>

void *alloca(size_t size);
```

- –§—É–Ω–∫—Ü–∏—è `alloca` –≤—ã–¥–µ–ª—è–µ—Ç –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, —Ä–∞–∑–º–µ—Ä–æ–º `size` –±–∞–π—Ç, –Ω–∞ —Å—Ç–µ–∫–µ.
- –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–∞—á–∞–ª–æ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –≠—Ç–∞ –æ–±–ª–∞—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–≤–∞–ª–∞ `alloca`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.
- –ï—Å–ª–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ.

**–ü–ª—é—Å—ã :**
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–æ;
- –í—ã–¥–µ–ª–µ–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ú–∏–Ω—É—Å—ã :**
- –§—É–Ω–∫—Ü–∏—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è;
- –°–µ—Ä—å—ë–∑–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –æ–±–ª–∞—Å—Ç–∏.

```c
// VLA, –∫–æ–≥–¥–∞ —Ç–µ–ª–æ —Ü–∏–∫–ª–∞ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è, –º–∞—Å—Å–∏–≤ 
// —Ä–∞–∑—Ä—É—à–∏—Ç—Å—è (—Ç.–∫. –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤—ã—à–ª–∞ 
// –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏)
void foo(int size)
{
	...
	while (b)
	{
		char tmp[size];
		...
	}
}

// alloca, –º–∞—Å—Å–∏–≤ –≤—ã–¥–µ–ª–∏—Ç—Å—è, –Ω–æ –ø–∞–º—è—Ç—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è
// –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∏ 
// –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞
void foo(int size)
{
	...
	while (b)
	{
		char *tmp = alloca(size);
		...
	}
}
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è VLA:**
```c
#include <stdio.h>

int main(void) 
{
    int n;
    
    if (scanf("%d", &n) == 1 && n > 0) 
    {
        int a[n];  // VLA

        for (size_t i = 0; i < (size_t)n; i++) 
        {
            a[i] = i;
        }

        for (size_t i = 0; i < (size_t)n; i++) 
        {
            printf("%d ", a[i]);
        }
    }

    return 0;
}
```

**–ü–ª—é—Å—ã VLA:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É C99.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.

**–ú–∏–Ω—É—Å—ã VLA:**
- –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ C90 –∏ –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞—Ö C11+.
- –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞ –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `alloca`:**
```c
#include <alloca.h>
#include <stdio.h>

int main(void) 
{
    int n;
    int *a = NULL;

    if (scanf("%d", &n) == 1 && n > 0) 
    {
        a = alloca(n * sizeof(int));

        for (size_t i = 0; i < (size_t)n; i++) 
        {
            a[i] = i;
        }

        for (size_t i = 0; i < (size_t)n; i++) 
        {
            printf("%d ", a[i]);
        }
    }

    return 0;
}
```

**–ü–ª—é—Å—ã `alloca`:**
- –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.
- –ü–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ú–∏–Ω—É—Å—ã `alloca`:**
- –§—É–Ω–∫—Ü–∏—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ ISO C.
- –°–µ—Ä—å–µ–∑–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –æ–±–ª–∞—Å—Ç–∏, c—É—â–µ—Å—Ç–≤—É–µ—Ç —Ä–∏—Å–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–µ–∫–∞.
- –ü–∞–º—è—Ç—å –æ—Å—Ç–∞–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ü–∏–∫–ª–µ.


| –ö—Ä–∏—Ç–µ—Ä–∏–π.                           | `alloca.`                                      | `VLA`.                                            |
|-------------------------------------|-----------------------------------------------|------------------------------------------------|
| **–ú–µ—Å—Ç–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.**          | –°—Ç–µ–∫.                                         | –°—Ç–µ–∫.                                          |
| **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.**             | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏.          | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. |
| **–†–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏.**        | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.   | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.    |
| **–ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞.**              | –ü–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏.     | –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–∞—Ö.    |
| **–ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ü–∏–∫–ª–µ.**               | –ü–∞–º—è—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏.  | –ü–∞–º—è—Ç—å —Ä–∞–∑—Ä—É—à–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. |
| **–û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –≤—ã–¥–µ–ª–µ–Ω–∏–∏.** | –ü—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é.        | –û–±—ã—á–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. |

<div style="page-break-after: always;"></div>

# **–§—É–Ω–∫—Ü–∏–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.** [üîº](#top)

```c
int f(...);
```

- –í–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –Ω–µ –∏–∑–≤–µ—Å—Ç–Ω—ã –Ω–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∏ –∏—Ö —Ç–∏–ø—ã. 
- –í–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

–ù–û —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Å–æ–≤—Å–µ–º –ø—É—Å—Ç—ã–º –±—ã—Ç—å –Ω–µ –º–æ–∂–µ—Ç.

```c
int f(int k, ...);
```

–ù–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –≤—ã—á–∏—Å–ª—è—é—â—É—é —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–æ–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
–ü—Ä–æ–±–ª–µ–º—ã:
1. –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞–¥—Ä–µ—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Å—Ç–µ–∫–µ?
2. –ö–∞–∫ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?
3. –ö–∞–∫ –∑–∞–∫–æ–Ω—á–∏—Ç—å –ø–µ—Ä–µ–±–æ—Ä?

**–ù–∞–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è. –ü—Ä–∏—á–∏–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã.**

–ü–æ **cdecl** –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ, —Ç.–µ. –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ç–∞–∫:

```c
double avg(int n, ...) 
{
    double result = 0.0;

    if (n > 0) 
    {
        int *p_i = &n;
        double *p_d = (double *)(p_i + 1);
        double sum = 0.0;

        for (size_t i = 0; i < n; i++, p_d++) 
        {
            sum += *p_d;
        }

        result = sum / n;
    }

    return result;
}
```

–û–¥–Ω–∞–∫–æ —Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —Å **–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º**.

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ - `stdarg.h`**

`va_list`: –¢–∏–ø –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö.
`void va_start(va_list argptr, last_param)`: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç `va_list` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
`type va_arg(va_list argptr, type)`: –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞.
`void va_end(va_list argptr)`: –ó–∞–≤–µ—Ä—à–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

```c
#include <stdarg.h>
#include <stdio.h>

double avg(int n, ...) 
{
    double result = 0.0;
    
    if (n > 0) 
    {
        va_list vl;
        va_start(vl, n);

        double sum = 0.0;
        for (size_t i = 0; i < n; i++) 
        {
            double num = va_arg(vl, double);
            sum += num;
        }

        va_end(vl);
        result = sum / n;
    }

    return result;
}
```

<div style="page-break-after: always;"></div>

#  **–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä. –û–±—â–∏–µ –ø–æ–Ω—è—Ç–∏—è. –î–∏—Ä–µ–∫—Ç–∏–≤—ã `include`. –ü—Ä–æ—Å—Ç—ã–µ –º–∞–∫—Ä–æ—Å—ã. –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã. –ú–∞–∫—Ä–æ—Å—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –î–∏—Ä–µ–∫—Ç–∏–≤—ã —É—Å–ª–æ–≤–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –î–∏—Ä–µ–∫—Ç–∏–≤—ã `error`, `pragma`. –û–ø–µ—Ä–∞—Ü–∏—è `#` –∏ `##`.** [üîº](#top)

## **–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä. –û–±—â–∏–µ –ø–æ–Ω—è—Ç–∏—è.** [üîº](#top)

**–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä** ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞, –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—â–∞—è –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∫–æ–¥ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, —Ñ–∞–π–ª –∑–∞ —Ñ–∞–π–ª–æ–º, –≤ –ø–æ–∏—Å–∫–µ –¥–∏—Ä–µ–∫—Ç–∏–≤.

–ó–∞–¥–∞—á–∏ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞:
- –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤;
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤.

**–î–∏—Ä–µ–∫—Ç–∏–≤—ã** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–∞ `#` –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è
–Ω–∞ —Å–∏–º–≤–æ–ª–µ `\n`. –õ—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–±–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –º–æ–∂–µ—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –ª–µ–∫—Å–µ–º—ã –≤ –¥–∏—Ä–µ–∫—Ç–∏–≤–µ.

**–¢–∏–ø—ã –¥–∏—Ä–µ–∫—Ç–∏–≤:**
- –ú–∞–∫—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (`#define`, `#undef`);
- –î–∏—Ä–µ–∫—Ç–∏–≤–∞ –≤–∫–ª—é—á–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ (`#include`);
- –î–∏—Ä–µ–∫—Ç–∏–≤—ã —É—Å–ª–æ–≤–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (`#if`, `#ifdef`, `#ifndef`, `#endif`, ...)
- –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)[`#pragma`, `#error`, ...].

## **–ü—Ä–æ—Å—Ç—ã–µ –º–∞–∫—Ä–æ—Å—ã.** [üîº](#top)

```c
#define –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–ø–∏—Å–æ–∫-–∑–∞–º–µ–Ω—ã
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
- –ò–º–µ–Ω–∞ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö, —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö –∏ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç:
```c
#define PI 3.14
#define NEWLINE '\n'
```
- –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —è–∑—ã–∫–∞:
```c
#define BEGIN {
#define END }
```
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤:
```c
#define BOOL int
```
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (`include guard`):
```c
#ifndef DEFINES_H
#define DEFINES_H

...

#endif
```

**–û–±—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –º–∞–∫—Ä–æ—Å–æ–≤:**

- –°–ø–∏—Å–æ–∫-–∑–∞–º–µ–Ω—ã –º–∞–∫—Ä–æ—Å–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–∞–∫—Ä–æ—Å—ã;
- –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∑–∞–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ –ª–µ–∫—Å–µ–º—ã, –Ω–µ –∏—Ö —á–∞—Å—Ç–∏;
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–∞ –æ—Å—Ç–∞–µ—Ç—Å—è ¬´–∏–∑–≤–µ—Å—Ç–Ω—ã–º¬ª –¥–æ –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º —ç—Ç–æ—Ç –º–∞–∫—Ä–æ—Å –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è;
- –ú–∞–∫—Ä–æ—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω –¥–≤–∞–∂–¥—ã, –µ—Å–ª–∏ —ç—Ç–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–µ —Ç–æ–∂–¥–µ—Å—Ç–≤–µ–Ω–Ω—ã;
- –ú–∞–∫—Ä–æ—Å –º–æ–∂–µ—Ç –±—ã—Ç—å ¬´—Ä–∞–∑–æ–ø—Ä–µ–¥–µ–ª—ë–Ω¬ª —Å –ø–æ–º–æ—â—å—é –¥–∏—Ä–µ–∫—Ç–∏–≤—ã `#undef`.

## **–î–∏—Ä–µ–∫—Ç–∏–≤—ã —É—Å–ª–æ–≤–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.** [üîº](#top)

–î–∏—Ä–µ–∫—Ç–∏–≤–∞ `if` –≤ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –±–ª–æ–∫ –∫–æ–¥–∞, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

–î–∏—Ä–µ–∫—Ç–∏–≤–∞ `ifdef` (–∏–ª–∏ `ifndef`) —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ, –Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —Å–æ–∑–¥–∞–Ω–æ –ª–∏ –º–∞–∫—Ä–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º. –ï—Å–ª–∏ –æ–Ω–æ —Å–æ–∑–¥–∞–Ω–æ (–∏–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω–æ), —Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –±–ª–æ–∫ –∫–æ–¥–∞ (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `#if defined()`).

`#if` vs `#ifdef`.

| **–ö—Ä–∏—Ç–µ—Ä–∏–π**                | **`#if`**                                  | **`#ifdef`**                                |
|----------------------------|------------------------------------------|--------------------------------------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**            | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç **—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ**. | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç **—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –º–∞–∫—Ä–æ—Å–∞** (`#define`). |
| **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö** | –õ—é–±–æ–µ **—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ**, –≤–∫–ª—é—á–∞—è `defined(–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)`. | –¢–æ–ª—å–∫–æ **–Ω–∞–ª–∏—á–∏–µ –º–∞–∫—Ä–æ—Å–∞**, –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è. |
| **–î–æ–ø—É—Å—Ç–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**   | –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ, –ø–æ–±–∏—Ç–æ–≤—ã–µ. | –û–ø–µ—Ä–∞—Ü–∏–∏ **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è**. |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `defined()`** | –¢—Ä–µ–±—É–µ—Ç **—è–≤–Ω–æ–≥–æ** `defined(–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)`, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –º–∞–∫—Ä–æ—Å. | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º—è –º–∞–∫—Ä–æ—Å–∞ **–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ**, –±–µ–∑ `defined()`. |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –º–∞–∫—Ä–æ—Å–æ–≤** | –ï—Å–ª–∏ –º–∞–∫—Ä–æ—Å **–Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω**, –æ–Ω –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `0`. | –ï—Å–ª–∏ –º–∞–∫—Ä–æ—Å **–Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω**, —É—Å–ª–æ–≤–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è `false`. |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞–∫—Ä–æ—Å–∞** | –î–∞, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å **–∑–Ω–∞—á–µ–Ω–∏–µ** (`#if VERSION > 2`). | –ù–µ—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **–Ω–∞–ª–∏—á–∏–µ** –º–∞–∫—Ä–æ—Å–∞. |
| **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏** | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `#else`, `#elif`** | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. |
| **–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å** | `#if defined(–ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–†)` **—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ** `#ifdef –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–†`. | `#ifdef –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–†` **—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ** `#if defined(–ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–†)`. |

## **–ú–∞–∫—Ä–æ—Å—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.** [üîº](#top)

```c
#define –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä(x1, x2, ..., xn) —Å–ø–∏—Å–æ–∫-–∑–∞–º–µ–Ω—ã
```

‚Äì –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–±–µ–ª–∞ –º–µ–∂–¥—É –∏–º–µ–Ω–µ–º –º–∞–∫—Ä–æ—Å–∞ –∏ `(`.
‚Äì –°–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.

–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω—è–µ—Ç –º–∞–∫—Ä–æ—Å—ã –Ω–∞ –∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏‚Äã:
```c
#define MAX(a, b) ((a) > (b) ? (a) : (b))

int x = MAX(10, 20);  // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤
// ((10) > (20) ? (10) : (20))
```

**–ú–∞–∫—Ä–æ—Å—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ vs —Ñ—É–Ω–∫—Ü–∏–∏:**

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ;
- –ú–∞–∫—Ä–æ—Å—ã ¬´—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã¬ª.

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ
`n = MAX(i,MAX(j, k)));` ;
- –¢–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è;
- –ù–µ–ª—å–∑—è –æ–±—ä—è–≤–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞–∫—Ä–æ—Å;
- –ú–∞–∫—Ä–æ—Å –º–æ–∂–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ
—Ä–∞–∑ `n = MAX(i++, j);`.

**–ú–∞–∫—Ä–æ—Å—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è —Å –ø–æ–º–æ—â—å—é `NDEBUG`:
```c
#ifndef NDEBUG
#define DBG_PRINT(s, ...) printf(s, __VA_ARGS__)
#else
#define DBG_PRINT(s, ...) ((void) O)
#endif
```

**–°–∫–æ–±–∫–∏ –≤ –º–∞–∫—Ä–æ—Å–∞—Ö.**

- –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫-–∑–∞–º–µ–Ω—ã —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–∫–ª—é—á–µ–Ω –≤ —Å–∫–æ–±–∫–∏;
- –ï—Å–ª–∏ —É –º–∞–∫—Ä–æ—Å–∞ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫–ª—é—á–µ–Ω—ã –≤ —Å–∫–æ–±–∫–∏ –≤ —Å–ø–∏—Å–∫–µ-–∑–∞–º–µ–Ω—ã.
```c
#define TWO_PI 2 * 3.14
f = 360.0 / TWO_PI;
// f = 360.0 / 2 * 3.14;

#define SCALE(x) (x * 10)
j = SCALE(i + 1);
// j = (i + 1 * 10);
```

**–°–æ–∑–¥–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö –º–∞–∫—Ä–æ—Å–æ–≤.**
–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `do-while` –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å `;` –≤ –∫–æ–Ω–µ—Ü –º–∞–∫—Ä–æ—Å–∞:
```c
#define ECHO(s) \ 
do              \ 
{               \ 
	gets(s);    \ 
	puts(s);    \ 
}               \ 
while(0)        \ 
```
–û–ø–µ—Ä–∞—Ç–æ—Ä `,`:
```c
#define ECHO(s) (gets(s), puts(s))
```
–û–±–µ—Ä—Ç–∫–∞ –≤ –±–ª–æ–∫:
```c
#define ECHO(s) {gets(s); puts(s);}
```

## **–ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã.** [üîº](#top)

–≠—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏–ª–∏ –æ—Ç–º–µ–Ω—è—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π `undef`.

```txt
- __LINE__ ‚Äî –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ (–¥–µ—Å—è—Ç–∏—á–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞);
- __FILE__ ‚Äî –∏–º—è –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞;
- __DATE__ ‚Äî –¥–∞—Ç–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏;
- __TIME__ ‚Äî –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏;
- –∏ –¥—Ä...
```

## **–û–ø–µ—Ä–∞—Ü–∏–∏ `#` –∏ `##`.** [üîº](#top)

- –û–ø–µ—Ä–∞—Ü–∏—è `#` –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç –º–∞–∫—Ä–æ—Å–∞ –≤ —Å—Ç—Ä–æ–∫–æ–≤—ã–π –ª–∏—Ç–µ—Ä–∞–ª:

```c
// —Å–∫–æ–±–∫–∏ –≤–æ–∫—Ä—É–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ –Ω—É–∂–Ω—ã
#define PRINT_INT(n) printf(#n " = %d\n", (n))

...
PRINT_INT(i / j);
```

- –û–ø–µ—Ä–∞—Ü–∏—è `##` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–≤–µ –ª–µ–∫—Å–µ–º—ã –≤ –æ–¥–Ω—É:

```c
#define CONCAT(a, b) a##b

...
int var1 = 42;
printf("Value of var1: %d\n", CONCAT(var, 1)); 
// –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ var1
```

**–®–∞–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞–∫—Ä–æ—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**

- –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ–Ω—ã —É–∂–µ ¬´—Ä–∞—Å–∫—Ä—ã—Ç—ã–º–∏¬ª, –µ—Å–ª–∏ –∫ –Ω–∏–º –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–∏ `#` –∏–ª–∏ `##`. 
- –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –±—ã–ª–∏ ¬´—Ä–∞—Å–∫—Ä—ã—Ç—ã¬ª –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ `#` –∏–ª–∏ `##`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º –µ—â–µ —Ä–∞–∑. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞–∫—Ä–æ—Å–∞, –æ–Ω–æ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è.

## **`#error`.** [üîº](#top)

```c
#if defined(OS_WIN)
...
#elif defined(OS_LIN)
...
#elif defined(OS_MAC)
...
#else
#error Unsupported OS!
#endif
```

## **`#pragma`.** [üîº](#top)

–î–∏—Ä–µ–∫—Ç–∏–≤–∞ `#pragma` –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∏—Ç—å—Å—è –æ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è.

–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `pragma once`;
- –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ (—É–ø–∞–∫–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `pragma pack`);
- –ü—Ä–æ—á–µ–µ... (–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ/–≤–∫–ª—é—á–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –∑–∞–ø—Ä–µ—Ç –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –¥—Ä.).

<div style="page-break-after: always;"></div> 

# **–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.** [üîº](#top)

`inline` ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω—ã –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –µ—ë —Ç–µ–ª–æ–º (–≤—Å—Ç–∞–≤–∫–∞ –∫–æ–¥–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞).
```c
inline double average(double a, double b)
{
	return (a + b) / 2;
}
```

–í –°99 `inline`-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏ –Ω–µ –∑–∞–ø—Ä–µ—â–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–æ –≤–Ω–µ—à–Ω–µ–π –ª–∏–Ω–∫–æ–≤–∫–æ–π. `inline` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –≥–¥–µ-—Ç–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥—Ä—É–≥–æ–µ —Ç–∞–∫–æ–µ –∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç—Ç–æ–π –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏.

–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–º–ø–æ–Ω–æ–≤–∫–µ, –µ—Å–ª–∏ `add` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–∞–∫ `static` –∏ –Ω–µ –∏–º–µ–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:
```c
inline int add(int a, int b)
{
    return a + b;
}

int main(void)
{
    int result = add(4, 5);
    return result;
}
```

**–°–ø–æ—Å–æ–±—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `static`:
```c
static inline int add(int a, int b)
{
	return a + b;
}
```
- –¢–∞–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `extern inline`:
```c
extern inline int add(int a, int b);
```
- –û–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –µ—â—ë –æ–¥–Ω–æ–≥–æ –Ω–µ-`inline` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ –≤ —Ñ–∞–π–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `.c`):
```c
int add(int a, int b)
{
	return a + b;
}
```
- –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –∫–æ–º–ø–æ–Ω–æ–≤—â–∏–∫ –º–æ–≥ —Å–≤—è–∑–∞—Ç—å –≤—ã–∑–æ–≤—ã —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

`inline` –±—ã–ª –≤–≤–µ–¥–µ–Ω –≤ –°99 —Å —Ü–µ–ª—å—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞ —Å—á–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö
—Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏. –î–æ —ç—Ç–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã —á–∞—Å—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –º–∞–∫—Ä–æ—Å–∞–º–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø–æ—Ö–æ–∂–∏—Ö –∑–∞–¥–∞—á, –Ω–æ –º–∞–∫—Ä–æ—Å—ã –∏–º–µ—é—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç–∏–ø–æ–≤,
–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏).
`inline` ‚Äî —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –º–∞–∫—Ä–æ—Å–∞–º.

# **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏.** [üîº](#top)

## **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏.**

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞** ‚Äî –Ω–∞–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞** –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:
- –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª;
- –û—Ç–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–∞–º–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∏–∂–µ –ø–æ—è—Å–Ω–∏–º).

**–ü—Ä–∏—á–∏–Ω—ã:**

- –ë–∏–±–∏–ª–∏–æ—Ç–µ–∫–∏ —Ä–µ–¥–∫–æ –º–µ–Ω—è—é—Ç—Å—è ‚Äî –Ω–µ—Ç –ø—Ä–∏—á–∏–Ω –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å.
- –î–≤–æ–∏—á–Ω—ã–π –∫–æ–¥ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∫–æ–¥—É.

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –µ—Å—Ç—å **—Å—Ç–∞—Ç–∏—á–Ω—ã–µ** –∏ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ**.

## **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.** [üîº](#top)

**–°—Ç–∞—Ç–∏—á–Ω–∞—è** –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –≤ –º–æ–º–µ–Ω—Ç –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –∏ –∫–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª.

**–ü–ª—é—Å—ã:**
- –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ;
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ —Ç–æ–π –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

**–ú–∏–Ω—É—Å—ã:**
- –†–∞–∑–º–µ—Ä;
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ‚Äî –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞.

**–°–±–æ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**

‚Äì –ö–æ–º–ø–∏–ª—è—Ü–∏—è:

`gcc -std=c99 -Wall -Werror -c arr_lib.c`

‚Äì –£–ø–∞–∫–æ–≤–∫–∞ (—Å –∑–∞–º–µ–Ω–æ–π –æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞ –Ω–æ–≤—ã–π):

`ar cr libarr.a arr_lib.o`

‚Äì –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):

`ranlib libarr.a`

**–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

```bash
gcc -std=c99 -Wall -Werror main.c -o app.exe libarr.a

# gcc -std=c99 -Wall -Werror main.c -o app.exe -L. -larr
# -L - –≤ –∫–∞–∫–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –ø–æ–∏—Å–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
# -l [arr] - –ø–æ–∏—Å–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ lib[arr].a
```

**–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.**

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-01%20–≤%2016.09.18.png)

| **–ö—Ä–∏—Ç–µ—Ä–∏–π.** | **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.** | **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.** |
|----------|-----------------------|-------------------------|
| **–°–≤—è–∑—ã–≤–∞–Ω–∏–µ.** | –í –º–æ–º–µ–Ω—Ç –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏. | –í –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. |
| **–†–∞–∑–º–µ—Ä –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞.** | –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è. | –û—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–±–æ–ª—å—à–∏–º. |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.** | –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. | –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏. |
| **–°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.** | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º —Ñ–∞–π–ª–µ. | –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏. |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.** | –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º —Ñ–∞–π–ª–µ. | –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ. |

## **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ  –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.** [üîº](#top)

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ** –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –∫–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª.

**–ü–ª—é—Å—ã:**
- –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º –º–æ–≥—É—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –æ–¥–Ω—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É;
- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ —Å—Ç–∞—Ç–∏—á–Ω–æ–π);
- –ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã;
- –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.

**–ú–∏–Ω—É—Å—ã:**
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ;
- –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫.

**–°–ø–æ—Å–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:**

- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞** ‚Äî —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ø–æ–∏—Å–∫—É –≤ –Ω–µ–π —Ç–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –Ω–∞ –∫–æ–º–ø–æ–Ω–æ–≤—â–∏–∫–∞.
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**‚Äî —Å–∞–º–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É, —Å–∞–º–∏ –∏—â–µ–º –Ω—É–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –∏ —Å–∞–º–∏ –∑–∞–≤–µ—Ä—à–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –û–°.

## **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞.** [üîº](#top)

**–°–±–æ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è:
`gcc -std=c99 -Wall -Werror -fPIC -c arr_lib.c`;
- –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞:
`gcc -o libarr.so -shared arr_lib.o`.

**–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

```bash
gcc -std=c99 -Wall -Werror main.c -L. -larr -o app.exe

# –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
# –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞
# LD_LIBRARY_PATH=$LD_LIBRARY_PATH:. /app.exe

# –≤–æ –≤—Ä–µ–º—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏
# gcc -std=c99 -Wall -Werror main.c -L. -larr -o app.exe -Wl,-rpath=.
```

**–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-01%20–≤%2016.21.09.png)

## **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞.** [üîº](#top)

**–°–±–æ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è:
`gcc -std=c99 -Wall -Werror -fPIC -c arr_lib.c`;
- –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞:
`gcc -o libarr.so -shared arr_lib.o`.

**–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.**

```bash
gcc -std=c99 -Wall -Werror main.c -ldl -o app.exe
```

**–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**

![](pics/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-02-01%20–≤%2016.23.51.png)

`void *dlopen(const char *file, int mode);` ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–µ—ë.

`mode` ‚Äì —Ñ–ª–∞–≥–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–æ–π. –û—Å–Ω–æ–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `RTLD_LAZY` ‚Äì —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å–∏–º–≤–æ–ª–æ–≤ (—Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ).
- `RTLD_NOW` ‚Äì –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã —Å—Ä–∞–∑—É (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫).
- `RTLD_GLOBAL` ‚Äì –¥–µ–ª–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.
- `RTLD_LOCAL` ‚Äì –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –¥–∞–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

`void *dlsym(void *restrict handle, const char *restrict name);` ‚Äî  –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∞–¥—Ä–µ—Å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

`int dlclose(void *handle);` ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É.


## **–ü–æ—Ä—è–¥–æ–∫ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ **Linux**.** [üîº](#top)

–í –ø—Ä–æ—Ü–µ—Å—Å–µ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –∏–≥—Ä–∞–µ—Ç —Ä–æ–ª—å –ø–æ—Ä—è–¥–æ–∫ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫. –ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫ –æ–¥–Ω–æ–ø—Ä–æ—Ö–æ–¥–Ω—ã–π. –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ
—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 3 –ø–æ–¥—Ö–æ–¥–∞:
1. –ó–∞–ø–∏—Å—å –±–∏–±–ª–∏–æ—Ç–µ–∫ —Å –ø–æ–º–æ—â—å—é –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ `-Wl,-\( ‚Ä¶ -Wl,\)`. –ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫ —Å–∞–º —Ä–∞–∑–±–µ—Ä—ë—Ç—Å—è.
3. –ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫—É —Ä–∞–∑.

## **–í–∏–¥–∏–º–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π –≤ **Linux** –∏ **Windows**.** [üîº](#top)

–í **Linux** –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –±–µ–∑ –∫–ª–∞—Å—Å–∞ –ø–∞–º—è—Ç–∏ `static` –≤—ã–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É. –í **Windows** ‚Äî –Ω–∞–æ–±–æ—Ä–æ—Ç. –§—É–Ω–∫—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–ª–∞—Å—Å–∞ –ø–∞–º—è—Ç–∏.

–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ —ç–∫—Å–ø–æ—Ä—Ç –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ **Windows** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `__declspec(dllexport)` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Ñ—É–Ω–∫—Ü–∏–∏. –¢–∞–∫–∂–µ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ
–æ –≤—ã–∑–æ–≤–µ (`__cdecl`). –í —Å–∞–º–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã —Å `__declspec(dllimport)` –∏ `__cdecl`.

–ß—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å—é –≤ **Linux**, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.
- `__attribute__((visibility("default")))` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö
- —Ñ—É–Ω–∫—Ü–∏–π.
- `__attribute__((visibility("hidden")))` ‚Äî —Å–æ–∫—Ä—ã—Ç–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

## **–ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π –∏ –∑–∞–≤–∏—Å–∏–º—ã–π –∫–æ–¥. **GOT** –∏ **PLT**.** [üîº](#top)

**PIC** ‚Äî –∫–æ–¥, –Ω–µ–∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç —Å–≤–æ–µ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö.

**PLT** ‚Äî —Ç–∞–±–ª–∏—Ü–∞, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∞—è –≤—ã–∑–æ–≤—ã –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –∫–æ–¥–∞ –∫ –∞–±—Å–æ–ª—é—Ç–Ω—ã–º –∞–¥—Ä–µ—Å–∞–º.

**GOT** ‚Äî —Ç–∞–±–ª–∏—Ü–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è **LD_PRELOAD** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –ø–µ—Ä–≤–µ–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ—Ö–æ–¥–∞ –≤—ã–∑–æ–≤–∞ —á–µ—Ä–µ–∑ PLT.


## **–ü–æ–¥—Ö–æ–¥—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–º —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –±—É—Ñ–µ—Ä –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.** [üîº](#top)

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏ –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 2 –ø–æ–¥—Ö–æ–¥–∞:
1. –í—ã–∑—ã–≤–∞—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –≤—ã–¥–µ–ª—è–µ—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å.
2. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.


## **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Python**. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è `ctypes` –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ —Å–ª–æ–∂–µ–Ω–∏—è –∏ –¥–µ–ª–µ–Ω–∏—è.** [üîº](#top)

–°–æ–∑–¥–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞ **C**:

```c
// math_lib.c
#include <stdio.h>

int add(int x, int y) 
{
    return x + y;
}

int divide(int x, int y, int *rem) 
{
	int rc = OK;
	
    if (y != 0) 
    {
        *rem = x % y;
        rc = x / y;
    } 
    else 
    {
        rc = 0
    }
    
	return rc;
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ **Python**:

```python
import ctypes

# –ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
lib = ctypes.CDLL('/libmath.so')

# –£–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ add
lib.add.argtypes = (ctypes.c_int, ctypes.c_int)
lib.add.restype = ctypes.c_int

# –£–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ divide
lib.divide.argtypes = (ctypes.c_int, ctypes.c_int, ctypes.POINTER(ctypes.c_int))
lib.divide.restype = ctypes.c_int

# –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–ª–æ–∂–µ–Ω–∏—è
x, y = 10, 5
result_add = lib.add(x, y)
print("Sum: {}".format(result_add))

# –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–ª–µ–Ω–∏—è
rem = ctypes.c_int()
result_div = lib.divide(x, y, ctypes.byref(rem))
print("Div: {}, Rem: {}".format(result_div, rem.value))
```


## **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Python**. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è `ctypes` –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ñ—É–Ω–∫—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤.** [üîº](#top)

1. –°–æ–∑–¥–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞ C

```c
// array_lib.c
#include <stdio.h>

void array_add(int *arr, int size, int value) 
{
    for (size_t i = 0; i < size; i++) 
    {
        arr[i] += value;
    }
}

int array_sum(int *arr, int size) 
{
    int sum = 0;
    
    for (size_t i = 0; i < size; i++) 
    {
        sum += arr[i];
    }
    
    return sum;
}
```

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ Python

```python
import ctypes

# –ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
lib = ctypes.CDLL('/libarray.so')

# –£–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ array_add
lib.array_add.argtypes = (ctypes.POINTER(ctypes.c_int), ctypes.c_int, ctypes.c_int)
lib.array_add.restype = None

# –£–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ array_sum
lib.array_sum.argtypes = (ctypes.POINTER(ctypes.c_int), ctypes.c_int)
lib.array_sum.restype = ctypes.c_int

# –°–æ–∑–¥–∞–µ–º –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –≤ Python
size = 5
arr = (ctypes.c_int * size)(1, 2, 3, 4, 5)

# –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ array_add, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–∞—Å—Å–∏–≤–∞
value_to_add = 10
lib.array_add(arr, size, value_to_add)

# –ü–µ—á–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
print("Upd array:", list(arr))

# –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ array_sum –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Å—É–º–º—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞
array_total = lib.array_sum(arr, size)
print("Array sum:", array_total)
```


## **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Python**. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ –≤ –º–æ–¥—É–ª–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.** [üîº](#top)

–û–±—ã—á–Ω–æ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–¥—É–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â–∏–π –≤–∏–¥:
```c
static PyObject* py_func(PyObject* self, PyObject* args)
{
 ...
}

#include <Python.h>

// int add(int, int);
static PyObject *add_numbers(PyObject *self, PyObject *args)
{
    int a, b, c;
    PyObject *rc = NULL;

    if (PyArg_ParseTuple(args, "ii", &a, &b)) 
    {
        c = add(a, b);
        rc = Py_BuildValue("i", c);
    }
    
    return rc;
}

// int divide(int, int, int *);
static PyObject *divide_numbers(PyObject *self, PyObject *args)
{
    int a, b, quotient, remainder;
    PyObject *rc = NULL;

    if (PyArg_ParseTuple(args, "ii", &a, &b)) 
    {
        quotient = divide(a, b, &remainder);
        rc = Py_BuildValue("(ii)", quotient, remainder);
    }
    
    return rc;
}

// –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
static PyMethodDef methods[] = {
	// –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ü–∏—Ç–æ–Ω, –∏–º—è —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–±–æ—Ä —Ñ–ª–∞–≥–æ–≤ –¥–ª—è –≤—ã–∑–æ–≤–∞ —ç—Ç–æ–π —Ñ—É–∫–Ω—Ü–∏–∏, —Å—Ç—Ä–æ–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
	{"add", add_numbers, METH_VARARGS, "Integer Addiction"},
	{"divide", divide_numbers, METH_VARARGS, "Integer Division"},
	{NULL, NULL, 0, NULL} // –°–∏–≥–Ω–∞–ª –æ —Ç–æ–º, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞
}

// –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª—è
static struct PyModuleDef module = {
	PyModuleDef_HEAD_INIT, // –ü–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
	"extension_module", // –ò–º—è –º–æ–¥—É–ª—è
	NULL,  // –°—Ç—Ä–æ–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
	-1, // –ù–∞–±–æ—Ä —Ñ–ª–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≥–æ–≤–æ—Ä—è—Ç –∫–∞–∫–∏–º –∏–º–µ–Ω–Ω–æ –æ–±—Ä–∞–∑–æ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
	methods  // –¢–∞–±–ª–∏—Ü–∞ —Ñ—É–Ω–∫—Ü–∏–π –º–æ–¥—É–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
};

// –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
PyMODINIT_FUNC PyInit_module(void)
{
	return PyModule_Create(&module);
}
```

- `PyObject` ‚Äì —ç—Ç–æ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö **–°–∏**, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç **Python**.
- –§—É–Ω–∫—Ü–∏—è –º–æ–¥—É–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø–æ–ª—É—á–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂ —Ç–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (`args`) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π **Python** –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- –ê—Ä–≥—É–º–µ–Ω—Ç `self` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö.
- –ë–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É –º–æ–¥—É–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤ –º–æ–¥—É–ª—è `PyMethodDef` –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ PyModuleDef, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–æ–¥—É–ª—å –≤ —Ü–µ–ª–æ–º.
- –í —Ç–∞–±–ª–∏—Ü–µ `PyMethodDef` –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è
	- **–°–∏** —Ñ—É–Ω–∫—Ü–∏–∏;
	- –∏–º–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ **Python**;
	- —Ñ–ª–∞–≥–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏,
	- —Å—Ç—Ä–æ–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `PyModuleDef` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è.
- –í —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ –º–æ–¥—É–ª—è —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–≤–æ–µ–≥–æ –∏–º–µ–Ω–∏.

–î–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –º–æ–¥—É–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Python-—Å–∫—Ä–∏–ø—Ç `setup.py`. –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã: 

```c
python setup.py build_ext --inplace
```

<div style="page-break-after: always;"></div>

# **–ê–¢–î, –º–æ–¥—É–ª—å, —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–π.** [üîº](#top)

–ü—Ä–æ–≥—Ä–∞–º–º—É —É–¥–æ–±–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –Ω–∞–±–æ—Ä –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –º–æ–¥—É–ª–µ–π. 

- –ú–æ–¥—É–ª—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–æ–Ω –æ–¥–∏–Ω) –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ);  
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –º–æ–¥—É–ª—å. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, —Ç–∏–ø—ã –∏ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –∫–æ–¥—É;  
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –º–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ;  
- –ß–∞—Å—Ç—å –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å, –Ω–∞–∑—ã–≤–∞—é—Ç –∫–ª–∏–µ–Ω—Ç–æ–º;  
- –ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –Ω–æ –Ω–µ –æ—Ç –¥–µ—Ç–∞–ª–µ–π –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.  

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–¥—É–ª—è –≤ —è–∑—ã–∫–µ –°–∏:**  

- –û–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ (`.h`), –≥–¥–µ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∏–ø—ã –∏ –º–∞–∫—Ä–æ—Å—ã;  
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `#include`;  
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (`.c`) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ —Ä–∞–±–æ—Ç—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.  

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª–µ–π.**  

- **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è** ‚Äî –∫–ª–∏–µ–Ω—Ç—É –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–æ–¥—É–ª—å, –≤–∞–∂–Ω–æ —Ç–æ–ª—å–∫–æ, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç;  
- **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** ‚Äî –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö;  
- **–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ** ‚Äî –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥—É–ª—è, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.  

**–¢–∏–ø—ã –º–æ–¥—É–ª–µ–π.**  

- **–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (`float.h`, `limits.h`);  
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ –æ–±—â–∏–µ –∑–∞–¥–∞—á–∏;  
- **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç** ‚Äî —Å–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π;  
- **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö (–ê–¢–î)** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–∫—Ä—ã–≤–∞—é—â–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º–∏.  

## **–ê–û - —Å—Ç–µ–∫ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª.** [üîº](#top)  

**–ü—Ä–∏–º–µ—Ä –ê–û (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞) ‚Äî —Å—Ç–µ–∫ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª.**  

```c
#ifndef __STACK_O_H__
#define __STACK_O_H__

#include <stdbool.h>

void make_empty(void);
bool is_empty(void);
bool is_full(void);
int push(int i);
int pop(int *i);

#endif // __STACK_O_H__
```

```c
#include <stddef.h>
#include "stack_ao.h"

#define STACK_SIZE 10

static int content[STACK_SIZE];
static size_t top;

void make_empty(void)
{
	top = 0;
}

bool is_empty(void)
{
	return top == 0;
}

bool is_full(void)
{
	return top >= STACK_SIZE;
}

int push(int i)
{
	int rc = 0;

	if (is_full())
	{
		rc = 1;
	}
	else
	{
		content[top++] = i;
	}

	return rc;
}

int pop(int *i)
{
	int rc = 0;

	if (is_empty())
	{
		rc = 1;
	}
	else
	{
		*i = content[--top];
	}

	return rc;
}
```


## **–ê–¢–î - —Å—Ç–µ–∫ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª.** [üîº](#top)

**–ü—Ä–∏–º–µ—Ä –ê–¢–î ‚Äî —Å—Ç–µ–∫ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª.**  

```c
#ifndef __STACK_H__
#define __STACK_H__

#include <stdbool.h>

typedef struct stack_type *stack_t;

void make_empty(stack_t s);
bool is_empty(const stack_t s);
bool is_full(const stack_t s);
int push(stack_t s, int i);
int pop(stack_t s, int *i);

stack_t create(void);
void destroy(stack_t s);

#endif // __STACK_H__
```

```c
#include <assert.h>
#include <stddef.h>
#include <stdlib.h>
#include "stack.h"

#define STACK_SIZE 10

struct stack_type
{
	int content[STACK_SIZE];
	size_t top;
};

stack_t create(void)
{
	stack_t s = malloc(sizeof(struct stack_type));
	int rc = 0;

	if (s == NULL)
	{
		rc = 1;
	}
	else
	{
		make_empty(s);
	}

	return rc == 0 ? s : NULL;
}

void destroy(stack_t s)
{
	free(s);
}

void make_empty(stack_t s)
{
	assert(s);
	s->top = 0;
}

bool is_empty(const stack_t s)
{
	assert(s);
	return s->top == 0;
}

bool is_full(const stack_t s)
{
	assert(s);
	return s->top >= STACK_SIZE;
}

int push(stack_t s, int i)
{
	assert(s);
	int rc = 0;

	if (is_full(s))
	{
		rc = 1;
	}
	else
	{
		s->content[(s->top)++] = i;
	}

	return rc;
}

int pop(stack_t s, int *i)
{
	assert(s);
	int rc = 0;

	if (is_empty(s))
	{
		rc = 1;
	}
	else
	{
		*i = s->content[--(s->top)];
	}

	return rc;
}
```

**–ù–µ–ø–æ–ª–Ω—ã–π —Ç–∏–ø –≤ –°–∏.**  

**–°—Ç–∞–Ω–¥–∞—Ä—Ç –°–∏** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–Ω–µ–ø–æ–ª–Ω—ã–µ —Ç–∏–ø—ã** ‚Äî —ç—Ç–æ —Ç–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç –æ–±—ä–µ–∫—Ç, –Ω–æ **–Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –µ–≥–æ —Ä–∞–∑–º–µ—Ä–µ**.

```c
struct t;
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–µ–ø–æ–ª–Ω–æ–≥–æ —Ç–∏–ø–∞.**  

**–ú–æ–∂–Ω–æ:**
- –û–±—ä—è–≤–ª—è—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏ `typedef struct t *T;`;  
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∏–ø–∞ `T` –≤ —Ñ—É–Ω–∫—Ü–∏–∏.  

**–ù–µ–ª—å–∑—è:**
- –†–∞–∑—ã–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å `T`;  
- –û–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–æ–ª—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`->`).  

<div style="page-break-after: always;"></div>

# **–°–ø–∏—Å–∫–∏ —è–¥—Ä–∞ Linux, –∏–¥–µ—è, –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.**  [üîº](#top)

**–°–ø–∏—Å–æ–∫ –ë–µ—Ä–∫–ª–∏** ‚Äì —ç—Ç–æ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –¥–≤—É—Å–≤—è–∑–Ω—ã–π
—Å–ø–∏—Å–æ–∫, –≤ –æ—Å–Ω–æ–≤–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ª–µ–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∞—è
—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```c
struct list_head
{
	struct list_head *next, *prev;
};
```

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ
—Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö —Å–ø–∏—Å–∫–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `list_head` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∞—Å—Ç—å—é —Å–∞–º–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

```c
struct data
{
	int i;
	struct list_head list;
	...
};
```

–°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

- –°—Ç—Ä—É–∫—Ç—É—Ä—É `struct list_head` –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
- `struct list_head` –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ª—é–±–æ–µ –∏–º—è.
- –í —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π —Ç–∏–ø–∞ `struct list_head`.

+: –û–¥–Ω–æ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É–∑–µ–ª —Å–ø–∏—Å–∫–∞.

-: –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ –≤ —Å–ø–∏—Å–∫–µ —É–∑–µ–ª –∏–ª–∏ –Ω–µ—Ç
–ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–≤–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö
—É–∫–∞–∑–∞—Ç–µ–ª—è.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ —è–¥—Ä–∞ Linux.**  

**–°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞.**  

```c
LIST_HEAD(num_list);
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±:  
```c
struct list_head num_list;
INIT_LIST_HEAD(&num_list);
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.**
  
```c
struct data_t *item;
for (size_t i = 0; i < 10; i++)
{
	item = malloc(sizeof(*item));
	
	if (!item)
	{
		break;
	}
	else
	{
		item->num = i;
		INIT_LIST_HEAD(&(item->list));
		list_add(&(item->list), &num_list);
	}
}
```

**–û–±—Ö–æ–¥ —Å–ø–∏—Å–∫–∞.** 
 
```c
struct list_head *iter;
struct data_t *item;

list_for_each(iter, &num_list)
{
	item = list_entry(iter, struct data_t, list);
	printf("LIST: %d\n", item->num);
}
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥:**  

```c
list_for_each_entry(item, &num_list, list)
{
	printf("LIST: %d\n", item->num);
}
```

**–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.** 
 
```c
struct list_head *safe;
list_for_each_safe(iter, safe, &num_list)
{
	item = list_entry(iter, struct data_t, list);
	list_del(iter);
	free(item);
}
```

<div style="page-break-after: always;"></div>

# **–°–ø–∏—Å–∫–∏ —è–¥—Ä–∞ Linux, –∏–¥–µ—è, –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.** [üîº](#top)

**–°–ø–∏—Å–æ–∫ –ë–µ—Ä–∫–ª–∏** ‚Äì —ç—Ç–æ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –¥–≤—É—Å–≤—è–∑–Ω—ã–π
—Å–ø–∏—Å–æ–∫, –≤ –æ—Å–Ω–æ–≤–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ª–µ–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∞—è
—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```c
struct list_head
{
	struct list_head *next, *prev;
};
```

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ
—Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö —Å–ø–∏—Å–∫–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `list_head` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∞—Å—Ç—å—é —Å–∞–º–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

```c
struct data
{
	int i;
	struct list_head list;
	...
};
```

–°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

- –°—Ç—Ä—É–∫—Ç—É—Ä—É `struct list_head` –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
- `struct list_head` –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ª—é–±–æ–µ –∏–º—è.
- –í —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π —Ç–∏–ø–∞ `struct list_head`.

+: –û–¥–Ω–æ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É–∑–µ–ª —Å–ø–∏—Å–∫–∞.

-: –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ –≤ —Å–ø–∏—Å–∫–µ —É–∑–µ–ª –∏–ª–∏ –Ω–µ—Ç
–ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–≤–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö
—É–∫–∞–∑–∞—Ç–µ–ª—è.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤ –≤ Linux.**  

```c
#define LIST_HEAD_INIT(name) { &(name), &(name) }

#define LIST_HEAD(name) struct list_head name = LIST_HEAD_INIT(name)

static inline void INIT_LIST_HEAD(struct list_head *list)
{
	list->next = list;
	list->prev = list;
}
```

**–ú–∞–∫—Ä–æ—Å `container_of`.**  

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ –∞–¥—Ä–µ—Å—É –æ–¥–Ω–æ–≥–æ –∏–∑ –µ–µ –ø–æ–ª–µ–π.  
```c
#define container_of(ptr, type, field_name) \
	((type *) ((char *) (ptr) - offsetof(type, field_name)))
```

`offsetof` –≤—ã—á–∏—Å–ª—è–µ—Ç —Å–º–µ—â–µ–Ω–∏–µ –ø–æ–ª—è `field_name` –æ—Ç –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `type`.  

```c
#define offsetof(TYPE, MEMBER) \
	((size_t) &((TYPE *) 0)->MEMBER)
```

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã `container_of`.**  
```c
struct data_t
{
	int num;
	struct list_head list;
};

struct list_head *node;
struct data_t *data = container_of(node, struct data_t, list);
```

**`offsetof`: –∏–¥–µ—è.**  
```c
struct s
{
	char c;
	int i;
	double d;
};

// –ü–æ–ª—É—á–∞–µ–º —Å–º–µ—â–µ–Ω–∏–µ i –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã s
printf("offset of i is %d\n", offsetof(struct s, i));
```

**–û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å–ø–∏—Å–∫–æ–º.**  

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.**  

```c
static inline void __list_add(struct list_head *new,
struct list_head *prev,
struct list_head *next)
{
	next->prev = new;
	new->next = next;
	new->prev = prev;
	prev->next = new;
}

static inline void list_add(struct list_head *new,
struct list_head *head)
{
	__list_add(new, head, head->next);
}

static inline void list_add_tail(struct list_head *new,
struct list_head *head)
{
	__list_add(new, head->prev, head);
}
```

**–û–±—Ö–æ–¥ —Å–ø–∏—Å–∫–∞.**
  
```c
#define list_for_each(pos, head) \
	for (pos = (head)->next; pos != (head); pos = pos->next)

#define list_for_each_entry(pos, head, member) \
	for (pos = list_entry((head)->next, typeof(*pos), member); \
		 &pos->member != (head); \
		 pos = list_entry(pos->member.next, typeof(*pos), member))
```

**–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.**  

```c
static inline void __list_del(struct list_head *prev,
struct list_head *next)
{
	next->prev = prev;
	prev->next = next;
}

static inline void list_del(struct list_head *entry)
{
	__list_del(entry->prev, entry->next);
	entry->next = NULL;
	entry->prev = NULL;
}
